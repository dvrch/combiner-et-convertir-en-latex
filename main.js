/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Ve=Object.defineProperty;var Qt=Object.getOwnPropertyDescriptor;var Xt=Object.getOwnPropertyNames;var Zt=Object.prototype.hasOwnProperty;var Jt=(e,n)=>()=>(e&&(n=e(e=0)),n);var Tn=(e,n)=>{for(var t in n)Ve(e,t,{get:n[t],enumerable:!0})},ei=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Xt(n))!Zt.call(e,i)&&i!==t&&Ve(e,i,{get:()=>n[i],enumerable:!(r=Qt(n,i))||r.enumerable});return e};var ni=e=>ei(Ve({},"__esModule",{value:!0}),e);var Yt={};Tn(Yt,{combineMarkdownNote:()=>An,getUniqueFileName:()=>Fn});async function An(e,n,t){let r=new Set,i=new Set,l=new Set,o={};function c(g,E){let p=[],L=[],k=E.split(`
`);for(let d of k){let y=d.match(/^(#+)\s*(.*)$/);if(y){let v=y[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();p.push(v)}let _=d.match(/\^([\w-]+)$/);_&&L.push(_[1])}o[g.toLowerCase()]={file:g,sections:p,blocks:L}}async function s(g){let E=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,p=g,L;for(;(L=E.exec(g))!==null;){let k=L[0],d=L[1].trim();if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(d)){let y=`%% EMBED IMAGE: ${d} %%
`;p=p.replace(k,y+k);continue}if(!r.has(d)){r.add(d),i.add(d.toLowerCase());try{let y=e.metadataCache.getFirstLinkpathDest(d,"");if(y){let _=await e.vault.read(y);(!_||_.trim()==="")&&(_=`<!-- Contenu vide ou non trouv\xE9 pour '${d}' -->`),c(d,_);let v=await h(_,y.parent?.path||""),w=`^${d.replace(/_/g,"-")}`,C=`%% EMBED START: [${d}] %% ${w}
`,O=`
%% EMBED END: ${d} %%`;p=p.replace(k,C+v+O)}else p=p.replace(k,`![[${d}]]`)}catch{p=p.replace(k,`![[${d}]]`)}finally{r.delete(d)}}}return p}async function u(g){let E=/\[\[([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,p=g.split(`
`),L=!1,k=-1,d=[];for(let _=0;_<p.length;_++)/^(```|~~~)/.test(p[_].trim())&&(L?(L=!1,d.push({start:k,end:_})):(L=!0,k=_));let y=[];for(let _=0;_<p.length;_++){let v=p[_],w,C=!1;for(let O of d)if(_>=O.start&&_<=O.end){C=!0;break}if(C){y.push(v);continue}for(;(w=E.exec(v))!==null;){let O=w[0],A=w[1].trim(),I=w[2],U=w[3],B=w[4],M=w[5],S=w[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(A))continue;let Z=o[A.toLowerCase()];if(Z){if(!I&&!B){let $=`^${A.replace(/_/g,"-")}`,H=S||A;v=v.replace(O,`[[#${$}|${H}]]`);continue}if(I&&U){let $=U.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(Z.sections.includes($)){let H=S||U;v=v.replace(O,`[[#${$}|${H}]]`);continue}}if(B&&M){let $="^"+M.replace(/_/g,"-");if(Z.blocks.includes(M.replace(/_/g,"-"))){let H=S||M;v=v.replace(O,`[[#${$}|${H}]]`);continue}}}if(t.useHiddenEmbeds&&!i.has(A.toLowerCase())&&!l.has(A.toLowerCase()))try{let $=e.metadataCache.getFirstLinkpathDest(A,"");if($){let H=await e.vault.read($);(!H||H.trim()==="")&&(H=`<!-- Contenu vide ou non trouv\xE9 pour '${A}' -->`);let re=`%%EMBED HIDDEN START: [[${A}]] 
${H}
EMBED HIDDEN END %%`;y.push(re),l.add(A.toLowerCase())}}catch{}let V=e.metadataCache.getFirstLinkpathDest(A,"");if(V&&!V.path.startsWith("http")&&!V.path.startsWith("/")){let $=S||A;v=v.replace(O,`[[${A}|${$}]]`)}else{let $=S||A;v=v.replace(O,`[[${A}|${$}]]`)}}E.lastIndex=0,y.push(v)}return y.join(`
`)}async function f(g){let E=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,p=g,L;for(;(L=E.exec(g))!==null;){let k=L[0],d=L[1].trim(),y=L[2],_=L[3],v=L[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(d)&&(d=d.replace(/\.md$/i,""));try{let C=e.metadataCache.getFirstLinkpathDest(d,"");if(C){let A=`![[${C.path.replace(/\\/g,"/")}`;y&&_&&(A+=`#${_}`),v&&(A+=`|${v}`),A+="]]",p=p.replace(k,A)}else p=p.replace(k,`![[${d}]]`)}catch{}}return p}function a(g){return g}async function h(g,E){let p=g;return p=await s(p),p=await u(p),p=await f(p),p=p,p}function m(g){return g.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(E,p,L,k)=>i.has(p.toLowerCase())?k?`[[#^${L}|${k}]]`:`[[#^${L}]]`:E)}let b=await e.vault.read(n),F=await h(b,n.parent?.path||"");return F=m(F),F}async function Fn(e,n){let t=e.lastIndexOf("."),r=t!==-1?e.slice(0,t):e,i=t!==-1?e.slice(t):"",l=e,o=1;for(;await n(l);)l=`${r} (${o})${i}`,o++;return l}var _l,We=Jt(()=>{"use strict";_l=require("obsidian")});var Wo={};Tn(Wo,{default:()=>Ke});module.exports=ni(Wo);var X=require("obsidian");function J(){}function en(e){return e()}function Ln(){return Object.create(null)}function oe(e){e.forEach(en)}function Me(e){return typeof e=="function"}function de(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function In(e){return Object.keys(e).length===0}var Nn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Xe=class e{constructor(n){this.options=n,this._listeners="WeakMap"in Nn?new WeakMap:void 0}observe(n,t){return this._listeners.set(n,t),this._getObserver().observe(n,this.options),()=>{this._listeners.delete(n),this._observer.unobserve(n)}}_getObserver(){var n;return(n=this._observer)!==null&&n!==void 0?n:this._observer=new ResizeObserver(t=>{var r;for(let i of t)e.entries.set(i.target,i),(r=this._listeners.get(i.target))===null||r===void 0||r(i)})}};Xe.entries="WeakMap"in Nn?new WeakMap:void 0;var Mn=!1;function ti(){Mn=!0}function ii(){Mn=!1}function T(e,n){e.appendChild(n)}function De(e,n,t){let r=ri(e);if(!r.getElementById(n)){let i=R("style");i.id=n,i.textContent=t,oi(r,i)}}function ri(e){if(!e)return document;let n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function oi(e,n){return T(e.head||e,n),n.sheet}function Ae(e,n,t){e.insertBefore(n,t||null)}function pe(e){e.parentNode&&e.parentNode.removeChild(e)}function R(e){return document.createElement(e)}function le(e){return document.createTextNode(e)}function G(){return le(" ")}function nn(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function ne(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function li(e){return Array.from(e.childNodes)}function he(e,n){n=""+n,e.data!==n&&(e.data=n)}function Fe(e,n,t,r){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,r?"important":"")}var tn;function we(e){tn=e}var ae=[];var $e=[],fe=[],On=[],ci=Promise.resolve(),Ze=!1;function si(){Ze||(Ze=!0,ci.then($n))}function Je(e){fe.push(e)}var Qe=new Set,ue=0;function $n(){if(ue!==0)return;let e=tn;do{try{for(;ue<ae.length;){let n=ae[ue];ue++,we(n),ui(n.$$)}}catch(n){throw ae.length=0,ue=0,n}for(we(null),ae.length=0,ue=0;$e.length;)$e.pop()();for(let n=0;n<fe.length;n+=1){let t=fe[n];Qe.has(t)||(Qe.add(t),t())}fe.length=0}while(ae.length);for(;On.length;)On.pop()();Ze=!1,Qe.clear(),we(e)}function ui(e){if(e.fragment!==null){e.update(),oe(e.before_update);let n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(Je)}}function ai(e){let n=[],t=[];fe.forEach(r=>e.indexOf(r)===-1?n.push(r):t.push(r)),t.forEach(r=>r()),fe=n}var Ne=new Set,fi;function Re(e,n){e&&e.i&&(Ne.delete(e),e.i(n))}function rn(e,n,t,r){if(e&&e.o){if(Ne.has(e))return;Ne.add(e),fi.c.push(()=>{Ne.delete(e),r&&(t&&e.d(1),r())}),e.o(n)}else r&&r()}var di=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Go=new Set([...di]);function on(e){e&&e.c()}function Pe(e,n,t,r){let{fragment:i,after_update:l}=e.$$;i&&i.m(n,t),r||Je(()=>{let o=e.$$.on_mount.map(en).filter(Me);e.$$.on_destroy?e.$$.on_destroy.push(...o):oe(o),e.$$.on_mount=[]}),l.forEach(Je)}function Ce(e,n){let t=e.$$;t.fragment!==null&&(ai(t.after_update),oe(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function pi(e,n){e.$$.dirty[0]===-1&&(ae.push(e),si(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function me(e,n,t,r,i,l,o,c=[-1]){let s=tn;we(e);let u=e.$$={fragment:null,ctx:[],props:l,update:J,not_equal:i,bound:Ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(s?s.$$.context:[])),callbacks:Ln(),dirty:c,skip_bound:!1,root:n.target||s.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(e,n.props||{},(a,h,...m)=>{let b=m.length?m[0]:h;return u.ctx&&i(u.ctx[a],u.ctx[a]=b)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](b),f&&pi(e,a)),h}):[],u.update(),f=!0,oe(u.before_update),u.fragment=r?r(u.ctx):!1,n.target){if(n.hydrate){ti();let a=li(n.target);u.fragment&&u.fragment.l(a),a.forEach(pe)}else u.fragment&&u.fragment.c();n.intro&&Re(e.$$.fragment),Pe(e,n.target,n.anchor,n.customElement),ii(),$n()}we(s)}var hi;typeof HTMLElement=="function"&&(hi=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(en).filter(Me);for(let n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(e,n,t){this[e]=t}disconnectedCallback(){oe(this.$$.on_disconnect)}$destroy(){Ce(this,1),this.$destroy=J}$on(e,n){if(!Me(n))return J;let t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{let r=t.indexOf(n);r!==-1&&t.splice(r,1)}}$set(e){this.$$set&&!In(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var ee=class{$destroy(){Ce(this,1),this.$destroy=J}$on(n,t){if(!Me(t))return J;let r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(t),()=>{let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!In(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}};var Al=require("obsidian");var sl=require("obsidian");function mi(e){let n=[],t=0;return{text:e.replace(/\$\$([\s\S]*?)\$\$/g,(i,l)=>{let o=`__MATH_BLOCK_${t}__`;return n[t]=i,t++,o}),mathBlocks:n}}function gi(e,n){let t=e;return n.forEach((r,i)=>{t=t.replace(`__MATH_BLOCK_${i}__`,r)}),t}function _i(e,n,t){let{app:r}=n,{basePath:i}=n,{settings:l}=n,{config:o=null}=n,{combinedFileName:c=""}=n,s=new Set,u="",f=new Set,a={},h=new Set;function m(d,y){let _=[],v=[],w=y.split(`
`);for(let C of w){let O=C.match(/^(#+)\s*(.*)$/);if(O){let I=O[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();_.push(I)}let A=C.match(/\^([\w-]+)$/);A&&v.push(A[1])}a[d.toLowerCase()]={file:d,sections:_,blocks:v}}async function b(d){let y=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=d,v;for(;(v=y.exec(d))!==null;){let w=v[0],C=v[1].trim(),O=v[2],A=v[3],I=v[4],U=v[5];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(C)){let B=`%% EMBED IMAGE: ${C} %%
`;_=_.replace(w,B+w);continue}if(!s.has(C)){s.add(C),f.add(C.toLowerCase());try{let B=r.metadataCache.getFirstLinkpathDest(C,"");if(B){let M=await r.vault.read(B);(!M||M.trim()==="")&&(M=`<!-- Contenu vide ou non trouv\xE9 pour '${C}' -->`);let S=M;m(C,S),S=await E(S,B.parent?.path||"");let Z=`^${C.replace(/_/g,"-")}`,V=`%% EMBED START: [${C}] %% ${Z}
`,$=`
%% EMBED END: ${C} %%`;_=_.replace(w,V+S+$)}else _=_.replace(w,`![[${C}]]`)}catch{_=_.replace(w,`![[${C}]]`)}finally{s.delete(C)}}}return _}async function F(d){let y=/\[\[(?!\#)([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=d.split(`
`),v=!1,w=-1,C=[];for(let A=0;A<_.length;A++)/^(```|~~~)/.test(_[A].trim())&&(v?(v=!1,C.push({start:w,end:A})):(v=!0,w=A));let O=[];for(let A=0;A<_.length;A++){let I=_[A],U,B=!1;for(let M of C)if(A>=M.start&&A<=M.end){B=!0;break}if(B){O.push(I);continue}for(;(U=y.exec(I))!==null;){let M=U[0],S=U[1].trim(),Z=U[2],V=U[3],$=U[4],H=U[5],re=U[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(S))continue;let Ge=a[S.toLowerCase()];if(Ge){if(!Z&&!$){let q=`^${S.replace(/_/g,"-")}`,K=re||S;I=I.replace(M,`[[#${q}|${K}]]`);continue}if(Z&&V){let q=V.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(Ge.sections.includes(q)){let K=re||V;I=I.replace(M,`[[#${q}|${K}]]`);continue}}if($&&H){let q="^"+H.replace(/_/g,"-");if(Ge.blocks.includes(H.replace(/_/g,"-"))){let K=re||H;I=I.replace(M,`[[#${q}|${K}]]`);continue}}}if(l.useHiddenEmbeds&&!f.has(S.toLowerCase())&&!h.has(S.toLowerCase()))try{let q=r.metadataCache.getFirstLinkpathDest(S,"");if(q){let K=await r.vault.read(q);(!K||K.trim()==="")&&(K=`<!-- Contenu vide ou non trouv\xE9 pour '${S}' -->`);let Vt=`%%EMBED HIDDEN START: [[${S}]] 
${K}
EMBED HIDDEN END %%`;O.push(Vt),h.add(S.toLowerCase())}}catch{}let ze=r.metadataCache.getFirstLinkpathDest(S,"");if(ze&&!ze.path.startsWith("http")&&!ze.path.startsWith("/")){let q=re||S;I=I.replace(M,`[[${S}|${q}]]`)}else{let q=re||S;I=I.replace(M,`[[${S}|${q}]]`)}}y.lastIndex=0,O.push(I)}return O.join(`
`)}async function g(d){let y=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=d,v;for(;(v=y.exec(d))!==null;){let w=v[0],C=v[1].trim(),O=v[2],A=v[3],I=v[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(C)&&(C=C.replace(/\.md$/i,""));try{let B=r.metadataCache.getFirstLinkpathDest(C,"");if(B){let S=`![[${B.path.replace(/\\/g,"/")}`;O&&A&&(S+=`#${A}`),I&&(S+=`|${I}`),S+="]]",_=_.replace(w,S)}else _=_.replace(w,`![[${C}]]`)}catch{_=_.replace(w,`![[${C}]]`)}}return _}async function E(d,y){let{text:_,mathBlocks:v}=mi(d),w=_;return w=await b(w),w=await F(w),w=await g(w),w=w,gi(w,v)}function p(d){return d.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(y,_,v,w)=>f.has(_.toLowerCase())?w?`[[#^${v}|${w}]]`:`[[#^${v}]]`:y)}async function L(d){u="Traitement des liens...",s.clear(),f.clear(),h.clear(),a={};try{let y=await E(d,i);return y=p(y),u="Traitement termin\xE9",y}catch(y){throw u="Erreur lors du traitement",y}}function k(){s.clear(),u="",f.clear(),h.clear(),a={}}return e.$$set=d=>{"app"in d&&t(0,r=d.app),"basePath"in d&&t(1,i=d.basePath),"settings"in d&&t(2,l=d.settings),"config"in d&&t(3,o=d.config),"combinedFileName"in d&&t(4,c=d.combinedFileName)},[r,i,l,o,c,L,k]}var ln=class extends ee{constructor(n){super(),me(this,n,_i,null,de,{app:0,basePath:1,settings:2,config:3,combinedFileName:4,processMarkdown:5,resetState:6})}get processMarkdown(){return this.$$.ctx[5]}get resetState(){return this.$$.ctx[6]}},Dn=ln;function Zn(e){return typeof e>"u"||e===null}function xi(e){return typeof e=="object"&&e!==null}function vi(e){return Array.isArray(e)?e:Zn(e)?[]:[e]}function bi(e,n){var t,r,i,l;if(n)for(l=Object.keys(n),t=0,r=l.length;t<r;t+=1)i=l[t],e[i]=n[i];return e}function yi(e,n){var t="",r;for(r=0;r<n;r+=1)t+=e;return t}function wi(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Ai=Zn,Fi=xi,Ci=vi,Ei=yi,ki=wi,Si=bi,D={isNothing:Ai,isObject:Fi,toArray:Ci,repeat:Ei,isNegativeZero:ki,extend:Si};function Jn(e,n){var t="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(t+=`

`+e.mark.snippet),r+" "+t):r}function ke(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=Jn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ke.prototype=Object.create(Error.prototype);ke.prototype.constructor=ke;ke.prototype.toString=function(n){return this.name+": "+Jn(this,n)};var Y=ke;function cn(e,n,t,r,i){var l="",o="",c=Math.floor(i/2)-1;return r-n>c&&(l=" ... ",n=r-c+l.length),t-r>c&&(o=" ...",t=r+c-o.length),{str:l+e.slice(n,t).replace(/\t/g,"\u2192")+o,pos:r-n+l.length}}function sn(e,n){return D.repeat(" ",n-e.length)+e}function Ti(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var t=/\r?\n|\r|\0/g,r=[0],i=[],l,o=-1;l=t.exec(e.buffer);)i.push(l.index),r.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var c="",s,u,f=Math.min(e.line+n.linesAfter,i.length).toString().length,a=n.maxLength-(n.indent+f+3);for(s=1;s<=n.linesBefore&&!(o-s<0);s++)u=cn(e.buffer,r[o-s],i[o-s],e.position-(r[o]-r[o-s]),a),c=D.repeat(" ",n.indent)+sn((e.line-s+1).toString(),f)+" | "+u.str+`
`+c;for(u=cn(e.buffer,r[o],i[o],e.position,a),c+=D.repeat(" ",n.indent)+sn((e.line+1).toString(),f)+" | "+u.str+`
`,c+=D.repeat("-",n.indent+f+3+u.pos)+`^
`,s=1;s<=n.linesAfter&&!(o+s>=i.length);s++)u=cn(e.buffer,r[o+s],i[o+s],e.position-(r[o]-r[o+s]),a),c+=D.repeat(" ",n.indent)+sn((e.line+s+1).toString(),f)+" | "+u.str+`
`;return c.replace(/\n$/,"")}var Li=Ti,Oi=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ii=["scalar","sequence","mapping"];function Ni(e){var n={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(r){n[String(r)]=t})}),n}function Mi(e,n){if(n=n||{},Object.keys(n).forEach(function(t){if(Oi.indexOf(t)===-1)throw new Y('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Ni(n.styleAliases||null),Ii.indexOf(this.kind)===-1)throw new Y('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var P=Mi;function Rn(e,n){var t=[];return e[n].forEach(function(r){var i=t.length;t.forEach(function(l,o){l.tag===r.tag&&l.kind===r.kind&&l.multi===r.multi&&(i=o)}),t[i]=r}),t}function $i(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,t;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(n=0,t=arguments.length;n<t;n+=1)arguments[n].forEach(r);return e}function an(e){return this.extend(e)}an.prototype.extend=function(n){var t=[],r=[];if(n instanceof P)r.push(n);else if(Array.isArray(n))r=r.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(t=t.concat(n.implicit)),n.explicit&&(r=r.concat(n.explicit));else throw new Y("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(l){if(!(l instanceof P))throw new Y("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new Y("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Y("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(l){if(!(l instanceof P))throw new Y("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(an.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Rn(i,"implicit"),i.compiledExplicit=Rn(i,"explicit"),i.compiledTypeMap=$i(i.compiledImplicit,i.compiledExplicit),i};var et=an,nt=new P("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),tt=new P("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),it=new P("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),rt=new et({explicit:[nt,tt,it]});function Di(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Ri(){return null}function Pi(e){return e===null}var ot=new P("tag:yaml.org,2002:null",{kind:"scalar",resolve:Di,construct:Ri,predicate:Pi,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Bi(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function ji(e){return e==="true"||e==="True"||e==="TRUE"}function Hi(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var lt=new P("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Bi,construct:ji,predicate:Hi,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Yi(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ui(e){return 48<=e&&e<=55}function qi(e){return 48<=e&&e<=57}function Wi(e){if(e===null)return!1;var n=e.length,t=0,r=!1,i;if(!n)return!1;if(i=e[t],(i==="-"||i==="+")&&(i=e[++t]),i==="0"){if(t+1===n)return!0;if(i=e[++t],i==="b"){for(t++;t<n;t++)if(i=e[t],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(t++;t<n;t++)if(i=e[t],i!=="_"){if(!Yi(e.charCodeAt(t)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(t++;t<n;t++)if(i=e[t],i!=="_"){if(!Ui(e.charCodeAt(t)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;t<n;t++)if(i=e[t],i!=="_"){if(!qi(e.charCodeAt(t)))return!1;r=!0}return!(!r||i==="_")}function Ki(e){var n=e,t=1,r;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),r=n[0],(r==="-"||r==="+")&&(r==="-"&&(t=-1),n=n.slice(1),r=n[0]),n==="0")return 0;if(r==="0"){if(n[1]==="b")return t*parseInt(n.slice(2),2);if(n[1]==="x")return t*parseInt(n.slice(2),16);if(n[1]==="o")return t*parseInt(n.slice(2),8)}return t*parseInt(n,10)}function Gi(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!D.isNegativeZero(e)}var ct=new P("tag:yaml.org,2002:int",{kind:"scalar",resolve:Wi,construct:Ki,predicate:Gi,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),zi=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Vi(e){return!(e===null||!zi.test(e)||e[e.length-1]==="_")}function Qi(e){var n,t;return n=e.replace(/_/g,"").toLowerCase(),t=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:t*parseFloat(n,10)}var Xi=/^[-+]?[0-9]+e/;function Zi(e,n){var t;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(D.isNegativeZero(e))return"-0.0";return t=e.toString(10),Xi.test(t)?t.replace("e",".e"):t}function Ji(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||D.isNegativeZero(e))}var st=new P("tag:yaml.org,2002:float",{kind:"scalar",resolve:Vi,construct:Qi,predicate:Ji,represent:Zi,defaultStyle:"lowercase"}),ut=rt.extend({implicit:[ot,lt,ct,st]}),at=ut,ft=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),dt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function er(e){return e===null?!1:ft.exec(e)!==null||dt.exec(e)!==null}function nr(e){var n,t,r,i,l,o,c,s=0,u=null,f,a,h;if(n=ft.exec(e),n===null&&(n=dt.exec(e)),n===null)throw new Error("Date resolve error");if(t=+n[1],r=+n[2]-1,i=+n[3],!n[4])return new Date(Date.UTC(t,r,i));if(l=+n[4],o=+n[5],c=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(f=+n[10],a=+(n[11]||0),u=(f*60+a)*6e4,n[9]==="-"&&(u=-u)),h=new Date(Date.UTC(t,r,i,l,o,c,s)),u&&h.setTime(h.getTime()-u),h}function tr(e){return e.toISOString()}var pt=new P("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:er,construct:nr,instanceOf:Date,represent:tr});function ir(e){return e==="<<"||e===null}var ht=new P("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ir}),mn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function rr(e){if(e===null)return!1;var n,t,r=0,i=e.length,l=mn;for(t=0;t<i;t++)if(n=l.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;r+=6}return r%8===0}function or(e){var n,t,r=e.replace(/[\r\n=]/g,""),i=r.length,l=mn,o=0,c=[];for(n=0;n<i;n++)n%4===0&&n&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|l.indexOf(r.charAt(n));return t=i%4*6,t===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):t===18?(c.push(o>>10&255),c.push(o>>2&255)):t===12&&c.push(o>>4&255),new Uint8Array(c)}function lr(e){var n="",t=0,r,i,l=e.length,o=mn;for(r=0;r<l;r++)r%3===0&&r&&(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]),t=(t<<8)+e[r];return i=l%3,i===0?(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]):i===2?(n+=o[t>>10&63],n+=o[t>>4&63],n+=o[t<<2&63],n+=o[64]):i===1&&(n+=o[t>>2&63],n+=o[t<<4&63],n+=o[64],n+=o[64]),n}function cr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var mt=new P("tag:yaml.org,2002:binary",{kind:"scalar",resolve:rr,construct:or,predicate:cr,represent:lr}),sr=Object.prototype.hasOwnProperty,ur=Object.prototype.toString;function ar(e){if(e===null)return!0;var n=[],t,r,i,l,o,c=e;for(t=0,r=c.length;t<r;t+=1){if(i=c[t],o=!1,ur.call(i)!=="[object Object]")return!1;for(l in i)if(sr.call(i,l))if(!o)o=!0;else return!1;if(!o)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function fr(e){return e!==null?e:[]}var gt=new P("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ar,construct:fr}),dr=Object.prototype.toString;function pr(e){if(e===null)return!0;var n,t,r,i,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1){if(r=o[n],dr.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;l[n]=[i[0],r[i[0]]]}return!0}function hr(e){if(e===null)return[];var n,t,r,i,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1)r=o[n],i=Object.keys(r),l[n]=[i[0],r[i[0]]];return l}var _t=new P("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:pr,construct:hr}),mr=Object.prototype.hasOwnProperty;function gr(e){if(e===null)return!0;var n,t=e;for(n in t)if(mr.call(t,n)&&t[n]!==null)return!1;return!0}function _r(e){return e!==null?e:{}}var xt=new P("tag:yaml.org,2002:set",{kind:"mapping",resolve:gr,construct:_r}),gn=at.extend({implicit:[pt,ht],explicit:[mt,gt,_t,xt]}),ie=Object.prototype.hasOwnProperty,Be=1,vt=2,bt=3,je=4,un=1,xr=2,Pn=3,vr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,br=/[\x85\u2028\u2029]/,yr=/[,\[\]\{\}]/,yt=/^(?:!|!!|![a-z\-]+!)$/i,wt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Bn(e){return Object.prototype.toString.call(e)}function z(e){return e===10||e===13}function se(e){return e===9||e===32}function W(e){return e===9||e===32||e===10||e===13}function _e(e){return e===44||e===91||e===93||e===123||e===125}function wr(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Ar(e){return e===120?2:e===117?4:e===85?8:0}function Fr(e){return 48<=e&&e<=57?e-48:-1}function jn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Cr(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var At=new Array(256),Ft=new Array(256);for(ce=0;ce<256;ce++)At[ce]=jn(ce)?1:0,Ft[ce]=jn(ce);var ce;function Er(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||gn,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ct(e,n){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=Li(t),new Y(n,t)}function x(e,n){throw Ct(e,n)}function He(e,n){e.onWarning&&e.onWarning.call(null,Ct(e,n))}var Hn={YAML:function(n,t,r){var i,l,o;n.version!==null&&x(n,"duplication of %YAML directive"),r.length!==1&&x(n,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&x(n,"ill-formed argument of the YAML directive"),l=parseInt(i[1],10),o=parseInt(i[2],10),l!==1&&x(n,"unacceptable YAML version of the document"),n.version=r[0],n.checkLineBreaks=o<2,o!==1&&o!==2&&He(n,"unsupported YAML version of the document")},TAG:function(n,t,r){var i,l;r.length!==2&&x(n,"TAG directive accepts exactly two arguments"),i=r[0],l=r[1],yt.test(i)||x(n,"ill-formed tag handle (first argument) of the TAG directive"),ie.call(n.tagMap,i)&&x(n,'there is a previously declared suffix for "'+i+'" tag handle'),wt.test(l)||x(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{x(n,"tag prefix is malformed: "+l)}n.tagMap[i]=l}};function te(e,n,t,r){var i,l,o,c;if(n<t){if(c=e.input.slice(n,t),r)for(i=0,l=c.length;i<l;i+=1)o=c.charCodeAt(i),o===9||32<=o&&o<=1114111||x(e,"expected valid JSON character");else vr.test(c)&&x(e,"the stream contains non-printable characters");e.result+=c}}function Yn(e,n,t,r){var i,l,o,c;for(D.isObject(t)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(t),o=0,c=i.length;o<c;o+=1)l=i[o],ie.call(n,l)||(n[l]=t[l],r[l]=!0)}function xe(e,n,t,r,i,l,o,c,s){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Bn(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Bn(i)==="[object Object]"&&(i="[object Object]"),i=String(i),n===null&&(n={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(u=0,f=l.length;u<f;u+=1)Yn(e,n,l[u],t);else Yn(e,n,l,t);else!e.json&&!ie.call(t,i)&&ie.call(n,i)&&(e.line=o||e.line,e.lineStart=c||e.lineStart,e.position=s||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(n,i,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[i]=l,delete t[i];return n}function _n(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function N(e,n,t){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;se(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(n&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(z(i))for(_n(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return t!==-1&&r!==0&&e.lineIndent<t&&He(e,"deficient indentation"),r}function qe(e){var n=e.position,t;return t=e.input.charCodeAt(n),!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||W(t)))}function xn(e,n){n===1?e.result+=" ":n>1&&(e.result+=D.repeat(`
`,n-1))}function kr(e,n,t){var r,i,l,o,c,s,u,f,a=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),W(m)||_e(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),W(i)||t&&_e(i)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,c=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),W(i)||t&&_e(i))break}else if(m===35){if(r=e.input.charCodeAt(e.position-1),W(r))break}else{if(e.position===e.lineStart&&qe(e)||t&&_e(m))break;if(z(m))if(s=e.line,u=e.lineStart,f=e.lineIndent,N(e,!1,-1),e.lineIndent>=n){c=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=u,e.lineIndent=f;break}}c&&(te(e,l,o,!1),xn(e,e.line-s),l=o=e.position,c=!1),se(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return te(e,l,o,!1),e.result?!0:(e.kind=a,e.result=h,!1)}function Sr(e,n){var t,r,i;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(te(e,r,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)r=e.position,e.position++,i=e.position;else return!0;else z(t)?(te(e,r,i,!0),xn(e,N(e,!1,n)),r=i=e.position):e.position===e.lineStart&&qe(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function Tr(e,n){var t,r,i,l,o,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=r=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return te(e,t,e.position,!0),e.position++,!0;if(c===92){if(te(e,t,e.position,!0),c=e.input.charCodeAt(++e.position),z(c))N(e,!1,n);else if(c<256&&At[c])e.result+=Ft[c],e.position++;else if((o=Ar(c))>0){for(i=o,l=0;i>0;i--)c=e.input.charCodeAt(++e.position),(o=wr(c))>=0?l=(l<<4)+o:x(e,"expected hexadecimal character");e.result+=Cr(l),e.position++}else x(e,"unknown escape sequence");t=r=e.position}else z(c)?(te(e,t,r,!0),xn(e,N(e,!1,n)),t=r=e.position):e.position===e.lineStart&&qe(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function Lr(e,n){var t=!0,r,i,l,o=e.tag,c,s=e.anchor,u,f,a,h,m,b=Object.create(null),F,g,E,p;if(p=e.input.charCodeAt(e.position),p===91)f=93,m=!1,c=[];else if(p===123)f=125,m=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),p=e.input.charCodeAt(++e.position);p!==0;){if(N(e,!0,n),p=e.input.charCodeAt(e.position),p===f)return e.position++,e.tag=o,e.anchor=s,e.kind=m?"mapping":"sequence",e.result=c,!0;t?p===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),g=F=E=null,a=h=!1,p===63&&(u=e.input.charCodeAt(e.position+1),W(u)&&(a=h=!0,e.position++,N(e,!0,n))),r=e.line,i=e.lineStart,l=e.position,ve(e,n,Be,!1,!0),g=e.tag,F=e.result,N(e,!0,n),p=e.input.charCodeAt(e.position),(h||e.line===r)&&p===58&&(a=!0,p=e.input.charCodeAt(++e.position),N(e,!0,n),ve(e,n,Be,!1,!0),E=e.result),m?xe(e,c,b,g,F,E,r,i,l):a?c.push(xe(e,null,b,g,F,E,r,i,l)):c.push(F),N(e,!0,n),p=e.input.charCodeAt(e.position),p===44?(t=!0,p=e.input.charCodeAt(++e.position)):t=!1}x(e,"unexpected end of the stream within a flow collection")}function Or(e,n){var t,r,i=un,l=!1,o=!1,c=n,s=0,u=!1,f,a;if(a=e.input.charCodeAt(e.position),a===124)r=!1;else if(a===62)r=!0;else return!1;for(e.kind="scalar",e.result="";a!==0;)if(a=e.input.charCodeAt(++e.position),a===43||a===45)un===i?i=a===43?Pn:xr:x(e,"repeat of a chomping mode identifier");else if((f=Fr(a))>=0)f===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?x(e,"repeat of an indentation width identifier"):(c=n+f-1,o=!0);else break;if(se(a)){do a=e.input.charCodeAt(++e.position);while(se(a));if(a===35)do a=e.input.charCodeAt(++e.position);while(!z(a)&&a!==0)}for(;a!==0;){for(_n(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!o||e.lineIndent<c)&&a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>c&&(c=e.lineIndent),z(a)){s++;continue}if(e.lineIndent<c){i===Pn?e.result+=D.repeat(`
`,l?1+s:s):i===un&&l&&(e.result+=`
`);break}for(r?se(a)?(u=!0,e.result+=D.repeat(`
`,l?1+s:s)):u?(u=!1,e.result+=D.repeat(`
`,s+1)):s===0?l&&(e.result+=" "):e.result+=D.repeat(`
`,s):e.result+=D.repeat(`
`,l?1+s:s),l=!0,o=!0,s=0,t=e.position;!z(a)&&a!==0;)a=e.input.charCodeAt(++e.position);te(e,t,e.position,!1)}return!0}function Un(e,n){var t,r=e.tag,i=e.anchor,l=[],o,c=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!W(o))));){if(c=!0,e.position++,N(e,!0,-1)&&e.lineIndent<=n){l.push(null),s=e.input.charCodeAt(e.position);continue}if(t=e.line,ve(e,n,bt,!1,!0),l.push(e.result),N(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>n)&&s!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return c?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=l,!0):!1}function Ir(e,n,t){var r,i,l,o,c,s,u=e.tag,f=e.anchor,a={},h=Object.create(null),m=null,b=null,F=null,g=!1,E=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(e.position);p!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),l=e.line,(p===63||p===58)&&W(r))p===63?(g&&(xe(e,a,h,m,b,null,o,c,s),m=b=F=null),E=!0,g=!0,i=!0):g?(g=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=r;else{if(o=e.line,c=e.lineStart,s=e.position,!ve(e,t,vt,!1,!0))break;if(e.line===l){for(p=e.input.charCodeAt(e.position);se(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),W(p)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(xe(e,a,h,m,b,null,o,c,s),m=b=F=null),E=!0,g=!1,i=!1,m=e.tag,b=e.result;else if(E)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(E)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===l||e.lineIndent>n)&&(g&&(o=e.line,c=e.lineStart,s=e.position),ve(e,n,je,!0,i)&&(g?b=e.result:F=e.result),g||(xe(e,a,h,m,b,F,o,c,s),m=b=F=null),N(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&p!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return g&&xe(e,a,h,m,b,null,o,c,s),E&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=a),E}function Nr(e){var n,t=!1,r=!1,i,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(t=!0,o=e.input.charCodeAt(++e.position)):o===33?(r=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",n=e.position,t){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(n,e.position),o=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!W(o);)o===33&&(r?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(n-1,e.position+1),yt.test(i)||x(e,"named tag handle cannot contain such characters"),r=!0,n=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),yr.test(l)&&x(e,"tag suffix cannot contain flow indicator characters")}l&&!wt.test(l)&&x(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{x(e,"tag name is malformed: "+l)}return t?e.tag=l:ie.call(e.tagMap,i)?e.tag=e.tagMap[i]+l:i==="!"?e.tag="!"+l:i==="!!"?e.tag="tag:yaml.org,2002:"+l:x(e,'undeclared tag handle "'+i+'"'),!0}function Mr(e){var n,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!W(t)&&!_e(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function $r(e){var n,t,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!W(r)&&!_e(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&x(e,"name of an alias node must contain at least one character"),t=e.input.slice(n,e.position),ie.call(e.anchorMap,t)||x(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],N(e,!0,-1),!0}function ve(e,n,t,r,i){var l,o,c,s=1,u=!1,f=!1,a,h,m,b,F,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=c=je===t||bt===t,r&&N(e,!0,-1)&&(u=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;Nr(e)||Mr(e);)N(e,!0,-1)?(u=!0,c=l,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):c=!1;if(c&&(c=u||i),(s===1||je===t)&&(Be===t||vt===t?F=n:F=n+1,g=e.position-e.lineStart,s===1?c&&(Un(e,g)||Ir(e,g,F))||Lr(e,F)?f=!0:(o&&Or(e,F)||Sr(e,F)||Tr(e,F)?f=!0:$r(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):kr(e,F,Be===t)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(f=c&&Un(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),a=0,h=e.implicitTypes.length;a<h;a+=1)if(b=e.implicitTypes[a],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ie.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,m=e.typeMap.multi[e.kind||"fallback"],a=0,h=m.length;a<h;a+=1)if(e.tag.slice(0,m[a].tag.length)===m[a].tag){b=m[a];break}b||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Dr(e){var n=e.position,t,r,i,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(N(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!W(o);)o=e.input.charCodeAt(++e.position);for(r=e.input.slice(t,e.position),i=[],r.length<1&&x(e,"directive name must not be less than one character in length");o!==0;){for(;se(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!z(o));break}if(z(o))break;for(t=e.position;o!==0&&!W(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}o!==0&&_n(e),ie.call(Hn,r)?Hn[r](e,r,i):He(e,'unknown document directive "'+r+'"')}if(N(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,N(e,!0,-1)):l&&x(e,"directives end mark is expected"),ve(e,e.lineIndent-1,je,!1,!0),N(e,!0,-1),e.checkLineBreaks&&br.test(e.input.slice(n,e.position))&&He(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&qe(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,N(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function Et(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new Er(e,n),r=e.indexOf("\0");for(r!==-1&&(t.position=r,x(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Dr(t);return t.documents}function Rr(e,n,t){n!==null&&typeof n=="object"&&typeof t>"u"&&(t=n,n=null);var r=Et(e,t);if(typeof n!="function")return r;for(var i=0,l=r.length;i<l;i+=1)n(r[i])}function Pr(e,n){var t=Et(e,n);if(t.length!==0){if(t.length===1)return t[0];throw new Y("expected a single document in the stream, but found more")}}var Br=Rr,jr=Pr,kt={loadAll:Br,load:jr},St=Object.prototype.toString,Tt=Object.prototype.hasOwnProperty,vn=65279,Hr=9,Se=10,Yr=13,Ur=32,qr=33,Wr=34,fn=35,Kr=37,Gr=38,zr=39,Vr=42,Lt=44,Qr=45,Ye=58,Xr=61,Zr=62,Jr=63,eo=64,Ot=91,It=93,no=96,Nt=123,to=124,Mt=125,j={};j[0]="\\0";j[7]="\\a";j[8]="\\b";j[9]="\\t";j[10]="\\n";j[11]="\\v";j[12]="\\f";j[13]="\\r";j[27]="\\e";j[34]='\\"';j[92]="\\\\";j[133]="\\N";j[160]="\\_";j[8232]="\\L";j[8233]="\\P";var io=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ro=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function oo(e,n){var t,r,i,l,o,c,s;if(n===null)return{};for(t={},r=Object.keys(n),i=0,l=r.length;i<l;i+=1)o=r[i],c=String(n[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&Tt.call(s.styleAliases,c)&&(c=s.styleAliases[c]),t[o]=c;return t}function lo(e){var n,t,r;if(n=e.toString(16).toUpperCase(),e<=255)t="x",r=2;else if(e<=65535)t="u",r=4;else if(e<=4294967295)t="U",r=8;else throw new Y("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+D.repeat("0",r-n.length)+n}var co=1,Te=2;function so(e){this.schema=e.schema||gn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=D.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=oo(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Te:co,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qn(e,n){for(var t=D.repeat(" ",n),r=0,i=-1,l="",o,c=e.length;r<c;)i=e.indexOf(`
`,r),i===-1?(o=e.slice(r),r=c):(o=e.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(l+=t),l+=o;return l}function dn(e,n){return`
`+D.repeat(" ",e.indent*n)}function uo(e,n){var t,r,i;for(t=0,r=e.implicitTypes.length;t<r;t+=1)if(i=e.implicitTypes[t],i.resolve(n))return!0;return!1}function Ue(e){return e===Ur||e===Hr}function Le(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==vn||65536<=e&&e<=1114111}function Wn(e){return Le(e)&&e!==vn&&e!==Yr&&e!==Se}function Kn(e,n,t){var r=Wn(e),i=r&&!Ue(e);return(t?r:r&&e!==Lt&&e!==Ot&&e!==It&&e!==Nt&&e!==Mt)&&e!==fn&&!(n===Ye&&!i)||Wn(n)&&!Ue(n)&&e===fn||n===Ye&&i}function ao(e){return Le(e)&&e!==vn&&!Ue(e)&&e!==Qr&&e!==Jr&&e!==Ye&&e!==Lt&&e!==Ot&&e!==It&&e!==Nt&&e!==Mt&&e!==fn&&e!==Gr&&e!==Vr&&e!==qr&&e!==to&&e!==Xr&&e!==Zr&&e!==zr&&e!==Wr&&e!==Kr&&e!==eo&&e!==no}function fo(e){return!Ue(e)&&e!==Ye}function Ee(e,n){var t=e.charCodeAt(n),r;return t>=55296&&t<=56319&&n+1<e.length&&(r=e.charCodeAt(n+1),r>=56320&&r<=57343)?(t-55296)*1024+r-56320+65536:t}function $t(e){var n=/^\n* /;return n.test(e)}var Dt=1,pn=2,Rt=3,Pt=4,ge=5;function po(e,n,t,r,i,l,o,c){var s,u=0,f=null,a=!1,h=!1,m=r!==-1,b=-1,F=ao(Ee(e,0))&&fo(Ee(e,e.length-1));if(n||o)for(s=0;s<e.length;u>=65536?s+=2:s++){if(u=Ee(e,s),!Le(u))return ge;F=F&&Kn(u,f,c),f=u}else{for(s=0;s<e.length;u>=65536?s+=2:s++){if(u=Ee(e,s),u===Se)a=!0,m&&(h=h||s-b-1>r&&e[b+1]!==" ",b=s);else if(!Le(u))return ge;F=F&&Kn(u,f,c),f=u}h=h||m&&s-b-1>r&&e[b+1]!==" "}return!a&&!h?F&&!o&&!i(e)?Dt:l===Te?ge:pn:t>9&&$t(e)?ge:o?l===Te?ge:pn:h?Pt:Rt}function ho(e,n,t,r,i){e.dump=function(){if(n.length===0)return e.quotingType===Te?'""':"''";if(!e.noCompatMode&&(io.indexOf(n)!==-1||ro.test(n)))return e.quotingType===Te?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,t),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),c=r||e.flowLevel>-1&&t>=e.flowLevel;function s(u){return uo(e,u)}switch(po(n,c,e.indent,o,s,e.quotingType,e.forceQuotes&&!r,i)){case Dt:return n;case pn:return"'"+n.replace(/'/g,"''")+"'";case Rt:return"|"+Gn(n,e.indent)+zn(qn(n,l));case Pt:return">"+Gn(n,e.indent)+zn(qn(mo(n,o),l));case ge:return'"'+go(n)+'"';default:throw new Y("impossible error: invalid scalar style")}}()}function Gn(e,n){var t=$t(e)?String(n):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),l=i?"+":r?"":"-";return t+l+`
`}function zn(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function mo(e,n){for(var t=/(\n+)([^\n]*)/g,r=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,t.lastIndex=u,Vn(e.slice(0,u),n)}(),i=e[0]===`
`||e[0]===" ",l,o;o=t.exec(e);){var c=o[1],s=o[2];l=s[0]===" ",r+=c+(!i&&!l&&s!==""?`
`:"")+Vn(s,n),i=l}return r}function Vn(e,n){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,r,i=0,l,o=0,c=0,s="";r=t.exec(e);)c=r.index,c-i>n&&(l=o>i?o:c,s+=`
`+e.slice(i,l),i=l+1),o=c;return s+=`
`,e.length-i>n&&o>i?s+=e.slice(i,o)+`
`+e.slice(o+1):s+=e.slice(i),s.slice(1)}function go(e){for(var n="",t=0,r,i=0;i<e.length;t>=65536?i+=2:i++)t=Ee(e,i),r=j[t],!r&&Le(t)?(n+=e[i],t>=65536&&(n+=e[i+1])):n+=r||lo(t);return n}function _o(e,n,t){var r="",i=e.tag,l,o,c;for(l=0,o=t.length;l<o;l+=1)c=t[l],e.replacer&&(c=e.replacer.call(t,String(l),c)),(Q(e,n,c,!1,!1)||typeof c>"u"&&Q(e,n,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function Qn(e,n,t,r){var i="",l=e.tag,o,c,s;for(o=0,c=t.length;o<c;o+=1)s=t[o],e.replacer&&(s=e.replacer.call(t,String(o),s)),(Q(e,n+1,s,!0,!0,!1,!0)||typeof s>"u"&&Q(e,n+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=dn(e,n)),e.dump&&Se===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=l,e.dump=i||"[]"}function xo(e,n,t){var r="",i=e.tag,l=Object.keys(t),o,c,s,u,f;for(o=0,c=l.length;o<c;o+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),s=l[o],u=t[s],e.replacer&&(u=e.replacer.call(t,s,u)),Q(e,n,s,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Q(e,n,u,!1,!1)&&(f+=e.dump,r+=f));e.tag=i,e.dump="{"+r+"}"}function vo(e,n,t,r){var i="",l=e.tag,o=Object.keys(t),c,s,u,f,a,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Y("sortKeys must be a boolean or a function");for(c=0,s=o.length;c<s;c+=1)h="",(!r||i!=="")&&(h+=dn(e,n)),u=o[c],f=t[u],e.replacer&&(f=e.replacer.call(t,u,f)),Q(e,n+1,u,!0,!0,!0)&&(a=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,a&&(e.dump&&Se===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,a&&(h+=dn(e,n)),Q(e,n+1,f,!0,a)&&(e.dump&&Se===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=l,e.dump=i||"{}"}function Xn(e,n,t){var r,i,l,o,c,s;for(i=t?e.explicitTypes:e.implicitTypes,l=0,o=i.length;l<o;l+=1)if(c=i[l],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(t?c.multi&&c.representName?e.tag=c.representName(n):e.tag=c.tag:e.tag="?",c.represent){if(s=e.styleMap[c.tag]||c.defaultStyle,St.call(c.represent)==="[object Function]")r=c.represent(n,s);else if(Tt.call(c.represent,s))r=c.represent[s](n,s);else throw new Y("!<"+c.tag+'> tag resolver accepts not "'+s+'" style');e.dump=r}return!0}return!1}function Q(e,n,t,r,i,l,o){e.tag=null,e.dump=t,Xn(e,t,!1)||Xn(e,t,!0);var c=St.call(e.dump),s=r,u;r&&(r=e.flowLevel<0||e.flowLevel>n);var f=c==="[object Object]"||c==="[object Array]",a,h;if(f&&(a=e.duplicates.indexOf(t),h=a!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&n>0)&&(i=!1),h&&e.usedDuplicates[a])e.dump="*ref_"+a;else{if(f&&h&&!e.usedDuplicates[a]&&(e.usedDuplicates[a]=!0),c==="[object Object]")r&&Object.keys(e.dump).length!==0?(vo(e,n,e.dump,i),h&&(e.dump="&ref_"+a+e.dump)):(xo(e,n,e.dump),h&&(e.dump="&ref_"+a+" "+e.dump));else if(c==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!o&&n>0?Qn(e,n-1,e.dump,i):Qn(e,n,e.dump,i),h&&(e.dump="&ref_"+a+e.dump)):(_o(e,n,e.dump),h&&(e.dump="&ref_"+a+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&ho(e,e.dump,n,l,s);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Y("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function bo(e,n){var t=[],r=[],i,l;for(hn(e,t,r),i=0,l=r.length;i<l;i+=1)n.duplicates.push(t[r[i]]);n.usedDuplicates=new Array(l)}function hn(e,n,t){var r,i,l;if(e!==null&&typeof e=="object")if(i=n.indexOf(e),i!==-1)t.indexOf(i)===-1&&t.push(i);else if(n.push(e),Array.isArray(e))for(i=0,l=e.length;i<l;i+=1)hn(e[i],n,t);else for(r=Object.keys(e),i=0,l=r.length;i<l;i+=1)hn(e[r[i]],n,t)}function yo(e,n){n=n||{};var t=new so(n);t.noRefs||bo(e,t);var r=e;return t.replacer&&(r=t.replacer.call({"":r},"",r)),Q(t,0,r,!0,!0)?t.dump+`
`:""}var wo=yo,Ao={dump:wo};function bn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Fo=P,Co=et,Eo=rt,ko=ut,So=at,To=gn,Lo=kt.load,Oo=kt.loadAll,Io=Ao.dump,No=Y,Mo={binary:mt,float:st,map:it,null:ot,pairs:_t,set:xt,timestamp:pt,bool:lt,int:ct,merge:ht,omap:gt,seq:tt,str:nt},$o=bn("safeLoad","load"),Do=bn("safeLoadAll","loadAll"),Ro=bn("safeDump","dump"),Po={Type:Fo,Schema:Co,FAILSAFE_SCHEMA:Eo,JSON_SCHEMA:ko,CORE_SCHEMA:So,DEFAULT_SCHEMA:To,load:Lo,loadAll:Oo,dump:Io,YAMLException:No,types:Mo,safeLoad:$o,safeLoadAll:Do,safeDump:Ro},Bt=Po;var yn={};function Oe(){return{...yn}}async function jt(e="locales/fr.yaml"){try{let t=await(await fetch(e)).text();yn={...Bt.load(t)}}catch{yn={error:"Erreur de chargement des textes UI."}}}function Bo(e){De(e,"svelte-1mnh07d",".split-view.svelte-1mnh07d{display:flex;width:100%;height:100%}.pane.svelte-1mnh07d{flex:1;padding:1rem;overflow:auto;border-right:1px solid #ddd}.pane.svelte-1mnh07d:last-child{border-right:none}.pane-title.svelte-1mnh07d{font-weight:bold;margin-bottom:0.5rem}")}function jo(e){let n,t,r,i,l,o,c,s,u,f,a,h;return{c(){n=R("div"),t=R("div"),r=R("div"),r.textContent=`${e[2]["splitview.original"]||"Original"}`,i=G(),l=R("pre"),o=le(e[0]),c=G(),s=R("div"),u=R("div"),u.textContent=`${e[2]["splitview.combined"]||"Combin\xE9"}`,f=G(),a=R("pre"),h=le(e[1]),ne(r,"class","pane-title svelte-1mnh07d"),ne(t,"class","pane svelte-1mnh07d"),ne(u,"class","pane-title svelte-1mnh07d"),ne(s,"class","pane svelte-1mnh07d"),ne(n,"class","split-view svelte-1mnh07d")},m(m,b){Ae(m,n,b),T(n,t),T(t,r),T(t,i),T(t,l),T(l,o),T(n,c),T(n,s),T(s,u),T(s,f),T(s,a),T(a,h)},p(m,[b]){b&1&&he(o,m[0]),b&2&&he(h,m[1])},i:J,o:J,d(m){m&&pe(n)}}}function Ho(e,n,t){let{original:r=""}=n,{combined:i=""}=n,l=Oe();return e.$$set=o=>{"original"in o&&t(0,r=o.original),"combined"in o&&t(1,i=o.combined)},[r,i,l]}var wn=class extends ee{constructor(n){super(),me(this,n,Ho,jo,de,{original:0,combined:1},Bo)}},Ht=wn;We();var Ie={original:"",combined:""};function Cn(){return{...Ie}}function Ut(e){Ie={...Ie,original:e}}function qt(e){Ie={...Ie,combined:e}}function Yo(e){De(e,"svelte-v99t9y",".combiner-app.svelte-v99t9y{padding:1rem}")}function Wt(e){let n,t;return{c(){n=R("span"),t=le(e[3])},m(r,i){Ae(r,n,i),T(n,t)},p(r,i){i&8&&he(t,r[3])},d(r){r&&pe(n)}}}function Uo(e){let n,t,r,i,l,o,c,s,u,f,a,h,m=(e[4].save_button||"\u{1F4BE} Sauvegarder le combin\xE9")+"",b,F,g,E,p,L={app:e[0],settings:e[1],basePath:"",config:null,combinedFileName:""};i=new Dn({props:L}),e[12](i),u=new Ht({props:{original:e[5].original,combined:e[5].combined}});let k=e[3]&&Wt(e);return{c(){n=R("div"),t=R("h1"),t.textContent="Markdown Combiner",r=G(),on(i.$$.fragment),l=G(),o=R("button"),o.textContent="Combine Active Note",c=G(),s=R("div"),on(u.$$.fragment),f=G(),a=R("div"),h=R("button"),b=le(m),F=G(),k&&k.c(),Fe(a,"margin-top","1rem"),Fe(a,"display","flex"),Fe(a,"align-items","center"),Fe(a,"gap","1rem"),ne(n,"class","combiner-app svelte-v99t9y")},m(d,y){Ae(d,n,y),T(n,t),T(n,r),Pe(i,n,null),T(n,l),T(n,o),T(n,c),T(n,s),Pe(u,s,null),T(s,f),T(s,a),T(a,h),T(h,b),T(a,F),k&&k.m(a,null),g=!0,E||(p=[nn(o,"click",e[6]),nn(h,"click",e[7])],E=!0)},p(d,[y]){let _={};y&1&&(_.app=d[0]),y&2&&(_.settings=d[1]),i.$set(_);let v={};y&32&&(v.original=d[5].original),y&32&&(v.combined=d[5].combined),u.$set(v),(!g||y&16)&&m!==(m=(d[4].save_button||"\u{1F4BE} Sauvegarder le combin\xE9")+"")&&he(b,m),d[3]?k?k.p(d,y):(k=Wt(d),k.c(),k.m(a,null)):k&&(k.d(1),k=null)},i(d){g||(Re(i.$$.fragment,d),Re(u.$$.fragment,d),g=!0)},o(d){rn(i.$$.fragment,d),rn(u.$$.fragment,d),g=!1},d(d){d&&pe(n),e[12](null),Ce(i),Ce(u),k&&k.d(),E=!1,oe(p)}}}function qo(e,n,t){let{app:r}=n,{settings:i}=n,{originalContent:l=""}=n,{combinedContent:o=""}=n,{defaultFileName:c="note-combinee.md"}=n,{checkFileExists:s=async()=>!1}=n,u,f="",a=Oe(),h=Cn();async function m(){if(u){let g=r.workspace.getActiveFile();if(g){let E=await r.vault.read(g);t(8,o=await u.processMarkdown(E)),Ut(E),qt(o),t(5,h=Cn())}}}async function b(){let g=await Fn(c,s);t(3,f=`${a.save_success||"Fichier sauvegard\xE9 sous :"} ${g}`)}function F(g){$e[g?"unshift":"push"](()=>{u=g,t(2,u)})}return e.$$set=g=>{"app"in g&&t(0,r=g.app),"settings"in g&&t(1,i=g.settings),"originalContent"in g&&t(9,l=g.originalContent),"combinedContent"in g&&t(8,o=g.combinedContent),"defaultFileName"in g&&t(10,c=g.defaultFileName),"checkFileExists"in g&&t(11,s=g.checkFileExists)},[r,i,u,f,a,h,m,b,o,l,c,s,F]}var En=class extends ee{constructor(n){super(),me(this,n,qo,Uo,de,{app:0,settings:1,originalContent:9,combinedContent:8,defaultFileName:10,checkFileExists:11},Yo)}},kn=En;var be={useHiddenEmbeds:!0};function ye(){return{...be}}function Kt(e,n){be={...be,[e]:n}}async function Gt(e){let n=await e.loadData();n&&(be={...be,...n})}async function zt(e){await e.saveData(be)}We();var Ke=class extends X.Plugin{view;async onload(){await this.loadSettings(),this.addSettingTab(new Sn(this.app,this)),this.addRibbonIcon("dice","Combine Notes",()=>{this.activateView()}),this.addCommand({id:"open-combiner-view",name:"Open Combiner",callback:()=>{this.activateView()}}),this.addCommand({id:"combine-active-note-to-file",name:"Combiner la note active (fichier)",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){new X.Notice("Aucun fichier actif.");return}let t=ye(),r=await An(this.app,n,t),i=n.parent,l=n.basename+"-combined.md";await this.app.vault.create(i?i.path+"/"+l:l,r),new X.Notice("Fichier combin\xE9 cr\xE9\xE9 : "+l)}}),this.addCommand({id:"combine-active-note-direct",name:"Combiner la note active (direct)",icon:"combiner",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){this.app.workspace.trigger("notice","Aucune note active");return}let{combineMarkdownNote:t}=await Promise.resolve().then(()=>(We(),Yt)),r=ye(),i=await t(this.app,n,r),l=n.parent,o=n.basename+"-combined.md";await this.app.vault.create(l?l.path+"/"+o:o,i),this.app.workspace.trigger("notice","Fichier combin\xE9 cr\xE9\xE9 : "+o)}}),this.addCommand({id:"open-combiner-dom",name:"Ouvrir le combiner (s\xE9lection manuelle)",callback:()=>{let n=document.getElementById("combiner-debug-root");n?n.innerHTML="":(n=document.createElement("div"),n.id="combiner-debug-root",n.style.position="fixed",n.style.top="60px",n.style.right="20px",n.style.zIndex="9999",n.style.background="var(--background-primary)",n.style.border="1px solid var(--background-modifier-border)",n.style.borderRadius="8px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",n.style.padding="1rem",n.style.maxWidth="400px",document.body.appendChild(n));let t=ye();new kn({target:n,props:{app:this.app,settings:t}})}})}async onunload(){this.view}activateView(){let n=this.app.workspace.getRightLeaf(!1);if(n&&n.view.containerEl.children[1]){let t=ye();this.view=new kn({target:n.view.containerEl.children[1],props:{app:this.app,settings:t}}),this.app.workspace.revealLeaf(n)}}async loadSettings(){await Gt(this)}async saveSettings(){await zt(this)}},Sn=class extends X.PluginSettingTab{plugin;constructor(n,t){super(n,t),this.plugin=t}display(){let{containerEl:n}=this;n.empty(),n.createEl("h2",{text:"Settings for Combiner Plugin."});let t=ye();new X.Setting(n).setName("Use Hidden Embeds").setDesc("If enabled, internal links to notes not already embedded will be added as hidden comment blocks.").addToggle(r=>r.setValue(t.useHiddenEmbeds).onChange(async i=>{Kt("useHiddenEmbeds",i),await this.plugin.saveSettings()}))}};
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/

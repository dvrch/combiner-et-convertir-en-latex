/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Je=Object.defineProperty;var pi=Object.getOwnPropertyDescriptor;var di=Object.getOwnPropertyNames;var hi=Object.prototype.hasOwnProperty;var mi=(e,n)=>()=>(e&&(n=e(e=0)),n);var Nn=(e,n)=>{for(var t in n)Je(e,t,{get:n[t],enumerable:!0})},gi=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of di(n))!hi.call(e,r)&&r!==t&&Je(e,r,{get:()=>n[r],enumerable:!(i=pi(n,r))||i.enumerable});return e};var _i=e=>gi(Je({},"__esModule",{value:!0}),e);var Un={};Nn(Un,{combineMarkdownNote:()=>un,getUniqueFileName:()=>Le});async function un(e,n,t){let i=new Set,r=new Set,l=new Set,o={};function c(A,y){let g=[],L=[],$=y.split(`
`);for(let p of $){let w=p.match(/^(#+)\s*(.*)$/);if(w){let b=w[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();g.push(b)}let _=p.match(/\^([\w-]+)$/);_&&L.push(_[1])}o[A.toLowerCase()]={file:A,sections:g,blocks:L}}async function s(A){let y=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,g=A,L;for(;(L=y.exec(A))!==null;){let $=L[0],p=L[1].trim();if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(p)){let w=`%% EMBED IMAGE: ${p} %%
`;g=g.replace($,w+$);continue}if(!i.has(p)){i.add(p),r.add(p.toLowerCase());try{let w=e.metadataCache.getFirstLinkpathDest(p,"");if(w){let _=await e.vault.read(w);(!_||_.trim()==="")&&(_=`<!-- Contenu vide ou non trouv\xE9 pour '${p}' -->`),c(p,_);let b=await h(_,w.parent?.path||""),v=`^${p.replace(/_/g,"-")}`,S=`%% EMBED START: [[${p}]] %% ${v}
`,F=`
%% EMBED END: [[${p}]] %%`;g=g.replace($,S+b+F)}else g=g.replace($,`![[${p}]]`)}catch{g=g.replace($,`![[${p}]]`)}finally{i.delete(p)}}}return g}async function a(A){let y=/\[\[([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,g=A.split(`
`),L=!1,$=-1,p=[];for(let _=0;_<g.length;_++)/^(```|~~~)/.test(g[_].trim())&&(L?(L=!1,p.push({start:$,end:_})):(L=!0,$=_));let w=[];for(let _=0;_<g.length;_++){let b=g[_],v,S=!1;for(let F of p)if(_>=F.start&&_<=F.end){S=!0;break}if(S){w.push(b);continue}for(;(v=y.exec(b))!==null;){let F=v[0],f=v[1].trim(),O=v[2],x=v[3],M=v[4],j=v[5],N=v[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(f))continue;let re=o[f.toLowerCase()];if(re){if(!O&&!M){let P=`^${f.replace(/_/g,"-")}`,U=N||f;b=b.replace(F,`[[#${P}|${U}]]`);continue}if(O&&x){let P=x.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(re.sections.includes(P)){let U=N||x;b=b.replace(F,`[[#${P}|${U}]]`);continue}}if(M&&j){let P="^"+j.replace(/_/g,"-");if(re.blocks.includes(j.replace(/_/g,"-"))){let U=N||j;b=b.replace(F,`[[#${P}|${U}]]`);continue}}}if(t.useHiddenEmbeds&&!r.has(f.toLowerCase())&&!l.has(f.toLowerCase()))try{let P=e.metadataCache.getFirstLinkpathDest(f,"");if(P){let U=await e.vault.read(P);(!U||U.trim()==="")&&(U=`<!-- Contenu vide ou non trouv\xE9 pour '${f}' -->`);let ae=`%%EMBED HIDDEN START: [[${f}]] 
${U}
EMBED HIDDEN END %%`;w.push(ae),l.add(f.toLowerCase())}}catch{}let ee=e.metadataCache.getFirstLinkpathDest(f,"");if(ee&&!ee.path.startsWith("http")&&!ee.path.startsWith("/")){let P=N||f;b=b.replace(F,`[[${f}|${P}]]`)}else{let P=N||f;b=b.replace(F,`[[${f}|${P}]]`)}}y.lastIndex=0,w.push(b)}return w.join(`
`)}async function d(A){let y=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,g=A,L;for(;(L=y.exec(A))!==null;){let $=L[0],p=L[1].trim(),w=L[2],_=L[3],b=L[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(p)&&(p=p.replace(/\.md$/i,""));try{let S=e.metadataCache.getFirstLinkpathDest(p,"");if(S){let f=`![[${S.path.replace(/\\/g,"/")}`;w&&_&&(f+=`#${_}`),b&&(f+=`|${b}`),f+="]]",g=g.replace($,f)}else g=g.replace($,`![[${p}]]`)}catch{}}return g}function u(A){return A}async function h(A,y){let g=A;return g=await s(g),g=await a(g),g=await d(g),g=g,g}function m(A){return A.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(y,g,L,$)=>r.has(g.toLowerCase())?$?`[[#^${L}|${$}]]`:`[[#^${L}]]`:y)}let E=await e.vault.read(n),T=await h(E,n.parent?.path||"");return T=m(T),T}async function Le(e,n){let t=e.lastIndexOf("."),i=t!==-1?e.slice(0,t):e,r=t!==-1?e.slice(t):"",l=e,o=1;for(;await n(l);)l=`${i} (${o})${r}`,o++;return l}var Tl,Ye=mi(()=>{"use strict";Tl=require("obsidian")});var al={};Nn(al,{default:()=>Xe});module.exports=_i(al);var se=require("obsidian");function oe(){}function on(e){return e()}function Mn(){return Object.create(null)}function Q(e){e.forEach(on)}function je(e){return typeof e=="function"}function fe(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Rn(e){return Object.keys(e).length===0}var jn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,nn=class e{constructor(n){this.options=n,this._listeners="WeakMap"in jn?new WeakMap:void 0}observe(n,t){return this._listeners.set(n,t),this._getObserver().observe(n,this.options),()=>{this._listeners.delete(n),this._observer.unobserve(n)}}_getObserver(){var n;return(n=this._observer)!==null&&n!==void 0?n:this._observer=new ResizeObserver(t=>{var i;for(let r of t)e.entries.set(r.target,r),(i=this._listeners.get(r.target))===null||i===void 0||i(r)})}};nn.entries="WeakMap"in jn?new WeakMap:void 0;var Pn=!1;function vi(){Pn=!0}function xi(){Pn=!1}function C(e,n){e.appendChild(n)}function Be(e,n,t){let i=bi(e);if(!i.getElementById(n)){let r=I("style");r.id=n,r.textContent=t,yi(i,r)}}function bi(e){if(!e)return document;let n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function yi(e,n){return C(e.head||e,n),n.sheet}function te(e,n,t){e.insertBefore(n,t||null)}function Z(e){e.parentNode&&e.parentNode.removeChild(e)}function He(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function I(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function D(){return z(" ")}function V(e,n,t,i){return e.addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}function H(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function wi(e){return Array.from(e.childNodes)}function pe(e,n){n=""+n,e.data!==n&&(e.data=n)}function ln(e,n){e.value=n??""}function Ee(e,n,t,i){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,i?"important":"")}var cn;function Fe(e){cn=e}var ve=[];var Pe=[],xe=[],Dn=[],Ci=Promise.resolve(),tn=!1;function Ai(){tn||(tn=!0,Ci.then(Bn))}function rn(e){xe.push(e)}var en=new Set,_e=0;function Bn(){if(_e!==0)return;let e=cn;do{try{for(;_e<ve.length;){let n=ve[_e];_e++,Fe(n),ki(n.$$)}}catch(n){throw ve.length=0,_e=0,n}for(Fe(null),ve.length=0,_e=0;Pe.length;)Pe.pop()();for(let n=0;n<xe.length;n+=1){let t=xe[n];en.has(t)||(en.add(t),t())}xe.length=0}while(ve.length);for(;Dn.length;)Dn.pop()();tn=!1,en.clear(),Fe(e)}function ki(e){if(e.fragment!==null){e.update(),Q(e.before_update);let n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(rn)}}function Fi(e){let n=[],t=[];xe.forEach(i=>e.indexOf(i)===-1?n.push(i):t.push(i)),t.forEach(i=>i()),xe=n}var Re=new Set,ue;function Hn(){ue={r:0,c:[],p:ue}}function qn(){ue.r||Q(ue.c),ue=ue.p}function de(e,n){e&&e.i&&(Re.delete(e),e.i(n))}function Se(e,n,t,i){if(e&&e.o){if(Re.has(e))return;Re.add(e),ue.c.push(()=>{Re.delete(e),i&&(t&&e.d(1),i())}),e.o(n)}else i&&i()}var Ei=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],fl=new Set([...Ei]);function sn(e){e&&e.c()}function qe(e,n,t,i){let{fragment:r,after_update:l}=e.$$;r&&r.m(n,t),i||rn(()=>{let o=e.$$.on_mount.map(on).filter(je);e.$$.on_destroy?e.$$.on_destroy.push(...o):Q(o),e.$$.on_mount=[]}),l.forEach(rn)}function Te(e,n){let t=e.$$;t.fragment!==null&&(Fi(t.after_update),Q(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Si(e,n){e.$$.dirty[0]===-1&&(ve.push(e),Ai(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function he(e,n,t,i,r,l,o,c=[-1]){let s=cn;Fe(e);let a=e.$$={fragment:null,ctx:[],props:l,update:oe,not_equal:r,bound:Mn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(s?s.$$.context:[])),callbacks:Mn(),dirty:c,skip_bound:!1,root:n.target||s.$$.root};o&&o(a.root);let d=!1;if(a.ctx=t?t(e,n.props||{},(u,h,...m)=>{let E=m.length?m[0]:h;return a.ctx&&r(a.ctx[u],a.ctx[u]=E)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](E),d&&Si(e,u)),h}):[],a.update(),d=!0,Q(a.before_update),a.fragment=i?i(a.ctx):!1,n.target){if(n.hydrate){vi();let u=wi(n.target);a.fragment&&a.fragment.l(u),u.forEach(Z)}else a.fragment&&a.fragment.c();n.intro&&de(e.$$.fragment),qe(e,n.target,n.anchor,n.customElement),xi(),Bn()}Fe(s)}var Ti;typeof HTMLElement=="function"&&(Ti=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(on).filter(je);for(let n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(e,n,t){this[e]=t}disconnectedCallback(){Q(this.$$.on_disconnect)}$destroy(){Te(this,1),this.$destroy=oe}$on(e,n){if(!je(n))return oe;let t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{let i=t.indexOf(n);i!==-1&&t.splice(i,1)}}$set(e){this.$$set&&!Rn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var ne=class{$destroy(){Te(this,1),this.$destroy=oe}$on(n,t){if(!je(t))return oe;let i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(t),()=>{let r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(n){this.$$set&&!Rn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}};var Wl=require("obsidian");var Fl=require("obsidian");function Li(e){let n=[],t=0;return{text:e.replace(/\$\$([\s\S]*?)\$\$/g,(r,l)=>{let o=`__MATH_BLOCK_${t}__`;return n[t]=r,t++,o}),mathBlocks:n}}function Oi(e,n){let t=e;return n.forEach((i,r)=>{t=t.replace(`__MATH_BLOCK_${r}__`,i)}),t}function $i(e,n,t){let{app:i}=n,{basePath:r}=n,{settings:l}=n,{config:o=null}=n,{combinedFileName:c=""}=n,s=new Set,a="",d=new Set,u={},h=new Set;function m(p,w){let _=[],b=[],v=w.split(`
`);for(let S of v){let F=S.match(/^(#+)\s*(.*)$/);if(F){let O=F[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();_.push(O)}let f=S.match(/\^([\w-]+)$/);f&&b.push(f[1])}u[p.toLowerCase()]={file:p,sections:_,blocks:b}}async function E(p){let w=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=p,b;for(;(b=w.exec(p))!==null;){let v=b[0],S=b[1].trim(),F=b[2],f=b[3],O=b[4],x=b[5];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(S)){let M=`%% EMBED IMAGE: ${S} %%
`;_=_.replace(v,M+v);continue}if(!s.has(S)){s.add(S),d.add(S.toLowerCase());try{let M=i.metadataCache.getFirstLinkpathDest(S,"");if(M){let j=await i.vault.read(M);(!j||j.trim()==="")&&(j=`<!-- Contenu vide ou non trouv\xE9 pour '${S}' -->`);let N=j;m(S,N),N=await y(N,M.parent?.path||"");let re=`^${S.replace(/_/g,"-")}`,ee=`%% EMBED START: [[${S}]] %% ${re}
`,P=`
%% EMBED END: [[${S}]] %%`;_=_.replace(v,ee+N+P)}else _=_.replace(v,`![[${S}]]`)}catch{_=_.replace(v,`![[${S}]]`)}finally{s.delete(S)}}}return _}async function T(p){let w=/\[\[(?!\#)([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=p.split(`
`),b=!1,v=-1,S=[];for(let f=0;f<_.length;f++)/^(```|~~~)/.test(_[f].trim())&&(b?(b=!1,S.push({start:v,end:f})):(b=!0,v=f));let F=[];for(let f=0;f<_.length;f++){let O=_[f],x,M=!1;for(let j of S)if(f>=j.start&&f<=j.end){M=!0;break}if(M){F.push(O);continue}for(;(x=w.exec(O))!==null;){let j=x[0],N=x[1].trim(),re=x[2],ee=x[3],P=x[4],U=x[5],ae=x[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(N))continue;let Qe=u[N.toLowerCase()];if(Qe){if(!re&&!P){let G=`^${N.replace(/_/g,"-")}`,X=ae||N;O=O.replace(j,`[[#${G}|${X}]]`);continue}if(re&&ee){let G=ee.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(Qe.sections.includes(G)){let X=ae||ee;O=O.replace(j,`[[#${G}|${X}]]`);continue}}if(P&&U){let G="^"+U.replace(/_/g,"-");if(Qe.blocks.includes(U.replace(/_/g,"-"))){let X=ae||U;O=O.replace(j,`[[#${G}|${X}]]`);continue}}}if(l.useHiddenEmbeds&&!d.has(N.toLowerCase())&&!h.has(N.toLowerCase()))try{let G=i.metadataCache.getFirstLinkpathDest(N,"");if(G){let X=await i.vault.read(G);(!X||X.trim()==="")&&(X=`<!-- Contenu vide ou non trouv\xE9 pour '${N}' -->`);let fi=`%%EMBED HIDDEN START: [[${N}]] 
${X}
EMBED HIDDEN END %%`;F.push(fi),h.add(N.toLowerCase())}}catch{}let Ze=i.metadataCache.getFirstLinkpathDest(N,"");if(Ze&&!Ze.path.startsWith("http")&&!Ze.path.startsWith("/")){let G=ae||N;O=O.replace(j,`[[${N}|${G}]]`)}else{let G=ae||N;O=O.replace(j,`[[${N}|${G}]]`)}}w.lastIndex=0,F.push(O)}return F.join(`
`)}async function A(p){let w=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,_=p,b;for(;(b=w.exec(p))!==null;){let v=b[0],S=b[1].trim(),F=b[2],f=b[3],O=b[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(S)&&(S=S.replace(/\.md$/i,""));try{let M=i.metadataCache.getFirstLinkpathDest(S,"");if(M){let N=`![[${M.path.replace(/\\/g,"/")}`;F&&f&&(N+=`#${f}`),O&&(N+=`|${O}`),N+="]]",_=_.replace(v,N)}else _=_.replace(v,`![[${S}]]`)}catch{_=_.replace(v,`![[${S}]]`)}}return _}async function y(p,w){let{text:_,mathBlocks:b}=Li(p),v=_;return v=await E(v),v=await T(v),v=await A(v),v=v,Oi(v,b)}function g(p){return p.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(w,_,b,v)=>d.has(_.toLowerCase())?v?`[[#^${b}|${v}]]`:`[[#^${b}]]`:w)}async function L(p){a="Traitement des liens...",s.clear(),d.clear(),h.clear(),u={};try{let w=await y(p,r);return w=g(w),a="Traitement termin\xE9",w}catch(w){throw a="Erreur lors du traitement",w}}function $(){s.clear(),a="",d.clear(),h.clear(),u={}}return e.$$set=p=>{"app"in p&&t(0,i=p.app),"basePath"in p&&t(1,r=p.basePath),"settings"in p&&t(2,l=p.settings),"config"in p&&t(3,o=p.config),"combinedFileName"in p&&t(4,c=p.combinedFileName)},[i,r,l,o,c,L,$]}var an=class extends ne{constructor(n){super(),he(this,n,$i,null,fe,{app:0,basePath:1,settings:2,config:3,combinedFileName:4,processMarkdown:5,resetState:6})}get processMarkdown(){return this.$$.ctx[5]}get resetState(){return this.$$.ctx[6]}},Yn=an;Ye();var Oe={original:"",combined:""};function fn(){return{...Oe}}function Wn(e){Oe={...Oe,original:e}}function Gn(e){Oe={...Oe,combined:e}}function st(e){return typeof e>"u"||e===null}function Ii(e){return typeof e=="object"&&e!==null}function Ni(e){return Array.isArray(e)?e:st(e)?[]:[e]}function Mi(e,n){var t,i,r,l;if(n)for(l=Object.keys(n),t=0,i=l.length;t<i;t+=1)r=l[t],e[r]=n[r];return e}function Di(e,n){var t="",i;for(i=0;i<n;i+=1)t+=e;return t}function Ri(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ji=st,Pi=Ii,Bi=Ni,Hi=Di,qi=Ri,Yi=Mi,B={isNothing:ji,isObject:Pi,toArray:Bi,repeat:Hi,isNegativeZero:qi,extend:Yi};function at(e,n){var t="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(t+=`

`+e.mark.snippet),i+" "+t):i}function Ie(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=at(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ie.prototype=Object.create(Error.prototype);Ie.prototype.constructor=Ie;Ie.prototype.toString=function(n){return this.name+": "+at(this,n)};var W=Ie;function pn(e,n,t,i,r){var l="",o="",c=Math.floor(r/2)-1;return i-n>c&&(l=" ... ",n=i-c+l.length),t-i>c&&(o=" ...",t=i+c-o.length),{str:l+e.slice(n,t).replace(/\t/g,"\u2192")+o,pos:i-n+l.length}}function dn(e,n){return B.repeat(" ",n-e.length)+e}function Ui(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],r=[],l,o=-1;l=t.exec(e.buffer);)r.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var c="",s,a,d=Math.min(e.line+n.linesAfter,r.length).toString().length,u=n.maxLength-(n.indent+d+3);for(s=1;s<=n.linesBefore&&!(o-s<0);s++)a=pn(e.buffer,i[o-s],r[o-s],e.position-(i[o]-i[o-s]),u),c=B.repeat(" ",n.indent)+dn((e.line-s+1).toString(),d)+" | "+a.str+`
`+c;for(a=pn(e.buffer,i[o],r[o],e.position,u),c+=B.repeat(" ",n.indent)+dn((e.line+1).toString(),d)+" | "+a.str+`
`,c+=B.repeat("-",n.indent+d+3+a.pos)+`^
`,s=1;s<=n.linesAfter&&!(o+s>=r.length);s++)a=pn(e.buffer,i[o+s],r[o+s],e.position-(i[o]-i[o+s]),u),c+=B.repeat(" ",n.indent)+dn((e.line+s+1).toString(),d)+" | "+a.str+`
`;return c.replace(/\n$/,"")}var Wi=Ui,Gi=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ki=["scalar","sequence","mapping"];function zi(e){var n={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(i){n[String(i)]=t})}),n}function Vi(e,n){if(n=n||{},Object.keys(n).forEach(function(t){if(Gi.indexOf(t)===-1)throw new W('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=zi(n.styleAliases||null),Ki.indexOf(this.kind)===-1)throw new W('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var q=Vi;function Kn(e,n){var t=[];return e[n].forEach(function(i){var r=t.length;t.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(r=o)}),t[r]=i}),t}function Xi(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,t;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(n=0,t=arguments.length;n<t;n+=1)arguments[n].forEach(i);return e}function mn(e){return this.extend(e)}mn.prototype.extend=function(n){var t=[],i=[];if(n instanceof q)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(t=t.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new W("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(l){if(!(l instanceof q))throw new W("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new W("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new W("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof q))throw new W("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(mn.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Kn(r,"implicit"),r.compiledExplicit=Kn(r,"explicit"),r.compiledTypeMap=Xi(r.compiledImplicit,r.compiledExplicit),r};var ut=mn,ft=new q("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),pt=new q("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),dt=new q("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ht=new ut({explicit:[ft,pt,dt]});function Qi(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Zi(){return null}function Ji(e){return e===null}var mt=new q("tag:yaml.org,2002:null",{kind:"scalar",resolve:Qi,construct:Zi,predicate:Ji,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function er(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function nr(e){return e==="true"||e==="True"||e==="TRUE"}function tr(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var gt=new q("tag:yaml.org,2002:bool",{kind:"scalar",resolve:er,construct:nr,predicate:tr,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function ir(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function rr(e){return 48<=e&&e<=55}function or(e){return 48<=e&&e<=57}function lr(e){if(e===null)return!1;var n=e.length,t=0,i=!1,r;if(!n)return!1;if(r=e[t],(r==="-"||r==="+")&&(r=e[++t]),r==="0"){if(t+1===n)return!0;if(r=e[++t],r==="b"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(!ir(e.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(!rr(e.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;t<n;t++)if(r=e[t],r!=="_"){if(!or(e.charCodeAt(t)))return!1;i=!0}return!(!i||r==="_")}function cr(e){var n=e,t=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return t*parseInt(n.slice(2),2);if(n[1]==="x")return t*parseInt(n.slice(2),16);if(n[1]==="o")return t*parseInt(n.slice(2),8)}return t*parseInt(n,10)}function sr(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!B.isNegativeZero(e)}var _t=new q("tag:yaml.org,2002:int",{kind:"scalar",resolve:lr,construct:cr,predicate:sr,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ar=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ur(e){return!(e===null||!ar.test(e)||e[e.length-1]==="_")}function fr(e){var n,t;return n=e.replace(/_/g,"").toLowerCase(),t=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:t*parseFloat(n,10)}var pr=/^[-+]?[0-9]+e/;function dr(e,n){var t;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(B.isNegativeZero(e))return"-0.0";return t=e.toString(10),pr.test(t)?t.replace("e",".e"):t}function hr(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||B.isNegativeZero(e))}var vt=new q("tag:yaml.org,2002:float",{kind:"scalar",resolve:ur,construct:fr,predicate:hr,represent:dr,defaultStyle:"lowercase"}),xt=ht.extend({implicit:[mt,gt,_t,vt]}),bt=xt,yt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function mr(e){return e===null?!1:yt.exec(e)!==null||wt.exec(e)!==null}function gr(e){var n,t,i,r,l,o,c,s=0,a=null,d,u,h;if(n=yt.exec(e),n===null&&(n=wt.exec(e)),n===null)throw new Error("Date resolve error");if(t=+n[1],i=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(t,i,r));if(l=+n[4],o=+n[5],c=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(d=+n[10],u=+(n[11]||0),a=(d*60+u)*6e4,n[9]==="-"&&(a=-a)),h=new Date(Date.UTC(t,i,r,l,o,c,s)),a&&h.setTime(h.getTime()-a),h}function _r(e){return e.toISOString()}var Ct=new q("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:mr,construct:gr,instanceOf:Date,represent:_r});function vr(e){return e==="<<"||e===null}var At=new q("tag:yaml.org,2002:merge",{kind:"scalar",resolve:vr}),bn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function xr(e){if(e===null)return!1;var n,t,i=0,r=e.length,l=bn;for(t=0;t<r;t++)if(n=l.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function br(e){var n,t,i=e.replace(/[\r\n=]/g,""),r=i.length,l=bn,o=0,c=[];for(n=0;n<r;n++)n%4===0&&n&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|l.indexOf(i.charAt(n));return t=r%4*6,t===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):t===18?(c.push(o>>10&255),c.push(o>>2&255)):t===12&&c.push(o>>4&255),new Uint8Array(c)}function yr(e){var n="",t=0,i,r,l=e.length,o=bn;for(i=0;i<l;i++)i%3===0&&i&&(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]),t=(t<<8)+e[i];return r=l%3,r===0?(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]):r===2?(n+=o[t>>10&63],n+=o[t>>4&63],n+=o[t<<2&63],n+=o[64]):r===1&&(n+=o[t>>2&63],n+=o[t<<4&63],n+=o[64],n+=o[64]),n}function wr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var kt=new q("tag:yaml.org,2002:binary",{kind:"scalar",resolve:xr,construct:br,predicate:wr,represent:yr}),Cr=Object.prototype.hasOwnProperty,Ar=Object.prototype.toString;function kr(e){if(e===null)return!0;var n=[],t,i,r,l,o,c=e;for(t=0,i=c.length;t<i;t+=1){if(r=c[t],o=!1,Ar.call(r)!=="[object Object]")return!1;for(l in r)if(Cr.call(r,l))if(!o)o=!0;else return!1;if(!o)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function Fr(e){return e!==null?e:[]}var Ft=new q("tag:yaml.org,2002:omap",{kind:"sequence",resolve:kr,construct:Fr}),Er=Object.prototype.toString;function Sr(e){if(e===null)return!0;var n,t,i,r,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1){if(i=o[n],Er.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;l[n]=[r[0],i[r[0]]]}return!0}function Tr(e){if(e===null)return[];var n,t,i,r,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1)i=o[n],r=Object.keys(i),l[n]=[r[0],i[r[0]]];return l}var Et=new q("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Sr,construct:Tr}),Lr=Object.prototype.hasOwnProperty;function Or(e){if(e===null)return!0;var n,t=e;for(n in t)if(Lr.call(t,n)&&t[n]!==null)return!1;return!0}function $r(e){return e!==null?e:{}}var St=new q("tag:yaml.org,2002:set",{kind:"mapping",resolve:Or,construct:$r}),yn=bt.extend({implicit:[Ct,At],explicit:[kt,Ft,Et,St]}),ce=Object.prototype.hasOwnProperty,Ue=1,Tt=2,Lt=3,We=4,hn=1,Ir=2,zn=3,Nr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Mr=/[\x85\u2028\u2029]/,Dr=/[,\[\]\{\}]/,Ot=/^(?:!|!!|![a-z\-]+!)$/i,$t=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Vn(e){return Object.prototype.toString.call(e)}function J(e){return e===10||e===13}function ge(e){return e===9||e===32}function K(e){return e===9||e===32||e===10||e===13}function ye(e){return e===44||e===91||e===93||e===123||e===125}function Rr(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function jr(e){return e===120?2:e===117?4:e===85?8:0}function Pr(e){return 48<=e&&e<=57?e-48:-1}function Xn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Br(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var It=new Array(256),Nt=new Array(256);for(me=0;me<256;me++)It[me]=Xn(me)?1:0,Nt[me]=Xn(me);var me;function Hr(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||yn,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Mt(e,n){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=Wi(t),new W(n,t)}function k(e,n){throw Mt(e,n)}function Ge(e,n){e.onWarning&&e.onWarning.call(null,Mt(e,n))}var Qn={YAML:function(n,t,i){var r,l,o;n.version!==null&&k(n,"duplication of %YAML directive"),i.length!==1&&k(n,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&k(n,"ill-formed argument of the YAML directive"),l=parseInt(r[1],10),o=parseInt(r[2],10),l!==1&&k(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=o<2,o!==1&&o!==2&&Ge(n,"unsupported YAML version of the document")},TAG:function(n,t,i){var r,l;i.length!==2&&k(n,"TAG directive accepts exactly two arguments"),r=i[0],l=i[1],Ot.test(r)||k(n,"ill-formed tag handle (first argument) of the TAG directive"),ce.call(n.tagMap,r)&&k(n,'there is a previously declared suffix for "'+r+'" tag handle'),$t.test(l)||k(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{k(n,"tag prefix is malformed: "+l)}n.tagMap[r]=l}};function le(e,n,t,i){var r,l,o,c;if(n<t){if(c=e.input.slice(n,t),i)for(r=0,l=c.length;r<l;r+=1)o=c.charCodeAt(r),o===9||32<=o&&o<=1114111||k(e,"expected valid JSON character");else Nr.test(c)&&k(e,"the stream contains non-printable characters");e.result+=c}}function Zn(e,n,t,i){var r,l,o,c;for(B.isObject(t)||k(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),o=0,c=r.length;o<c;o+=1)l=r[o],ce.call(n,l)||(n[l]=t[l],i[l]=!0)}function we(e,n,t,i,r,l,o,c,s){var a,d;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),a=0,d=r.length;a<d;a+=1)Array.isArray(r[a])&&k(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Vn(r[a])==="[object Object]"&&(r[a]="[object Object]");if(typeof r=="object"&&Vn(r)==="[object Object]"&&(r="[object Object]"),r=String(r),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(a=0,d=l.length;a<d;a+=1)Zn(e,n,l[a],t);else Zn(e,n,l,t);else!e.json&&!ce.call(t,r)&&ce.call(n,r)&&(e.line=o||e.line,e.lineStart=c||e.lineStart,e.position=s||e.position,k(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[r]=l,delete t[r];return n}function wn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):k(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function R(e,n,t){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;ge(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(n&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(J(r))for(wn(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return t!==-1&&i!==0&&e.lineIndent<t&&Ge(e,"deficient indentation"),i}function Ve(e){var n=e.position,t;return t=e.input.charCodeAt(n),!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||K(t)))}function Cn(e,n){n===1?e.result+=" ":n>1&&(e.result+=B.repeat(`
`,n-1))}function qr(e,n,t){var i,r,l,o,c,s,a,d,u=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),K(m)||ye(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(r=e.input.charCodeAt(e.position+1),K(r)||t&&ye(r)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,c=!1;m!==0;){if(m===58){if(r=e.input.charCodeAt(e.position+1),K(r)||t&&ye(r))break}else if(m===35){if(i=e.input.charCodeAt(e.position-1),K(i))break}else{if(e.position===e.lineStart&&Ve(e)||t&&ye(m))break;if(J(m))if(s=e.line,a=e.lineStart,d=e.lineIndent,R(e,!1,-1),e.lineIndent>=n){c=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=a,e.lineIndent=d;break}}c&&(le(e,l,o,!1),Cn(e,e.line-s),l=o=e.position,c=!1),ge(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return le(e,l,o,!1),e.result?!0:(e.kind=u,e.result=h,!1)}function Yr(e,n){var t,i,r;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(le(e,i,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)i=e.position,e.position++,r=e.position;else return!0;else J(t)?(le(e,i,r,!0),Cn(e,R(e,!1,n)),i=r=e.position):e.position===e.lineStart&&Ve(e)?k(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);k(e,"unexpected end of the stream within a single quoted scalar")}function Ur(e,n){var t,i,r,l,o,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return le(e,t,e.position,!0),e.position++,!0;if(c===92){if(le(e,t,e.position,!0),c=e.input.charCodeAt(++e.position),J(c))R(e,!1,n);else if(c<256&&It[c])e.result+=Nt[c],e.position++;else if((o=jr(c))>0){for(r=o,l=0;r>0;r--)c=e.input.charCodeAt(++e.position),(o=Rr(c))>=0?l=(l<<4)+o:k(e,"expected hexadecimal character");e.result+=Br(l),e.position++}else k(e,"unknown escape sequence");t=i=e.position}else J(c)?(le(e,t,i,!0),Cn(e,R(e,!1,n)),t=i=e.position):e.position===e.lineStart&&Ve(e)?k(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}k(e,"unexpected end of the stream within a double quoted scalar")}function Wr(e,n){var t=!0,i,r,l,o=e.tag,c,s=e.anchor,a,d,u,h,m,E=Object.create(null),T,A,y,g;if(g=e.input.charCodeAt(e.position),g===91)d=93,m=!1,c=[];else if(g===123)d=125,m=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),g=e.input.charCodeAt(++e.position);g!==0;){if(R(e,!0,n),g=e.input.charCodeAt(e.position),g===d)return e.position++,e.tag=o,e.anchor=s,e.kind=m?"mapping":"sequence",e.result=c,!0;t?g===44&&k(e,"expected the node content, but found ','"):k(e,"missed comma between flow collection entries"),A=T=y=null,u=h=!1,g===63&&(a=e.input.charCodeAt(e.position+1),K(a)&&(u=h=!0,e.position++,R(e,!0,n))),i=e.line,r=e.lineStart,l=e.position,Ce(e,n,Ue,!1,!0),A=e.tag,T=e.result,R(e,!0,n),g=e.input.charCodeAt(e.position),(h||e.line===i)&&g===58&&(u=!0,g=e.input.charCodeAt(++e.position),R(e,!0,n),Ce(e,n,Ue,!1,!0),y=e.result),m?we(e,c,E,A,T,y,i,r,l):u?c.push(we(e,null,E,A,T,y,i,r,l)):c.push(T),R(e,!0,n),g=e.input.charCodeAt(e.position),g===44?(t=!0,g=e.input.charCodeAt(++e.position)):t=!1}k(e,"unexpected end of the stream within a flow collection")}function Gr(e,n){var t,i,r=hn,l=!1,o=!1,c=n,s=0,a=!1,d,u;if(u=e.input.charCodeAt(e.position),u===124)i=!1;else if(u===62)i=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)hn===r?r=u===43?zn:Ir:k(e,"repeat of a chomping mode identifier");else if((d=Pr(u))>=0)d===0?k(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?k(e,"repeat of an indentation width identifier"):(c=n+d-1,o=!0);else break;if(ge(u)){do u=e.input.charCodeAt(++e.position);while(ge(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!J(u)&&u!==0)}for(;u!==0;){for(wn(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<c)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>c&&(c=e.lineIndent),J(u)){s++;continue}if(e.lineIndent<c){r===zn?e.result+=B.repeat(`
`,l?1+s:s):r===hn&&l&&(e.result+=`
`);break}for(i?ge(u)?(a=!0,e.result+=B.repeat(`
`,l?1+s:s)):a?(a=!1,e.result+=B.repeat(`
`,s+1)):s===0?l&&(e.result+=" "):e.result+=B.repeat(`
`,s):e.result+=B.repeat(`
`,l?1+s:s),l=!0,o=!0,s=0,t=e.position;!J(u)&&u!==0;)u=e.input.charCodeAt(++e.position);le(e,t,e.position,!1)}return!0}function Jn(e,n){var t,i=e.tag,r=e.anchor,l=[],o,c=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!K(o))));){if(c=!0,e.position++,R(e,!0,-1)&&e.lineIndent<=n){l.push(null),s=e.input.charCodeAt(e.position);continue}if(t=e.line,Ce(e,n,Lt,!1,!0),l.push(e.result),R(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>n)&&s!==0)k(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return c?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=l,!0):!1}function Kr(e,n,t){var i,r,l,o,c,s,a=e.tag,d=e.anchor,u={},h=Object.create(null),m=null,E=null,T=null,A=!1,y=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),g=e.input.charCodeAt(e.position);g!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(g===63||g===58)&&K(i))g===63?(A&&(we(e,u,h,m,E,null,o,c,s),m=E=T=null),y=!0,A=!0,r=!0):A?(A=!1,r=!0):k(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=i;else{if(o=e.line,c=e.lineStart,s=e.position,!Ce(e,t,Tt,!1,!0))break;if(e.line===l){for(g=e.input.charCodeAt(e.position);ge(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),K(g)||k(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(we(e,u,h,m,E,null,o,c,s),m=E=T=null),y=!0,A=!1,r=!1,m=e.tag,E=e.result;else if(y)k(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=d,!0}else if(y)k(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=d,!0}if((e.line===l||e.lineIndent>n)&&(A&&(o=e.line,c=e.lineStart,s=e.position),Ce(e,n,We,!0,r)&&(A?E=e.result:T=e.result),A||(we(e,u,h,m,E,T,o,c,s),m=E=T=null),R(e,!0,-1),g=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&g!==0)k(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return A&&we(e,u,h,m,E,null,o,c,s),y&&(e.tag=a,e.anchor=d,e.kind="mapping",e.result=u),y}function zr(e){var n,t=!1,i=!1,r,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&k(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(t=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",n=e.position,t){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(n,e.position),o=e.input.charCodeAt(++e.position)):k(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!K(o);)o===33&&(i?k(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(n-1,e.position+1),Ot.test(r)||k(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),Dr.test(l)&&k(e,"tag suffix cannot contain flow indicator characters")}l&&!$t.test(l)&&k(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{k(e,"tag name is malformed: "+l)}return t?e.tag=l:ce.call(e.tagMap,r)?e.tag=e.tagMap[r]+l:r==="!"?e.tag="!"+l:r==="!!"?e.tag="tag:yaml.org,2002:"+l:k(e,'undeclared tag handle "'+r+'"'),!0}function Vr(e){var n,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&k(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!K(t)&&!ye(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&k(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Xr(e){var n,t,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!K(i)&&!ye(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&k(e,"name of an alias node must contain at least one character"),t=e.input.slice(n,e.position),ce.call(e.anchorMap,t)||k(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],R(e,!0,-1),!0}function Ce(e,n,t,i,r){var l,o,c,s=1,a=!1,d=!1,u,h,m,E,T,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=c=We===t||Lt===t,i&&R(e,!0,-1)&&(a=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;zr(e)||Vr(e);)R(e,!0,-1)?(a=!0,c=l,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):c=!1;if(c&&(c=a||r),(s===1||We===t)&&(Ue===t||Tt===t?T=n:T=n+1,A=e.position-e.lineStart,s===1?c&&(Jn(e,A)||Kr(e,A,T))||Wr(e,T)?d=!0:(o&&Gr(e,T)||Yr(e,T)||Ur(e,T)?d=!0:Xr(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&k(e,"alias node should not have any properties")):qr(e,T,Ue===t)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(d=c&&Jn(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&k(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,h=e.implicitTypes.length;u<h;u+=1)if(E=e.implicitTypes[u],E.resolve(e.result)){e.result=E.construct(e.result),e.tag=E.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ce.call(e.typeMap[e.kind||"fallback"],e.tag))E=e.typeMap[e.kind||"fallback"][e.tag];else for(E=null,m=e.typeMap.multi[e.kind||"fallback"],u=0,h=m.length;u<h;u+=1)if(e.tag.slice(0,m[u].tag.length)===m[u].tag){E=m[u];break}E||k(e,"unknown tag !<"+e.tag+">"),e.result!==null&&E.kind!==e.kind&&k(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+E.kind+'", not "'+e.kind+'"'),E.resolve(e.result,e.tag)?(e.result=E.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):k(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Qr(e){var n=e.position,t,i,r,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(R(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!K(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(t,e.position),r=[],i.length<1&&k(e,"directive name must not be less than one character in length");o!==0;){for(;ge(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!J(o));break}if(J(o))break;for(t=e.position;o!==0&&!K(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}o!==0&&wn(e),ce.call(Qn,i)?Qn[i](e,i,r):Ge(e,'unknown document directive "'+i+'"')}if(R(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,R(e,!0,-1)):l&&k(e,"directives end mark is expected"),Ce(e,e.lineIndent-1,We,!1,!0),R(e,!0,-1),e.checkLineBreaks&&Mr.test(e.input.slice(n,e.position))&&Ge(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ve(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,R(e,!0,-1));return}if(e.position<e.length-1)k(e,"end of the stream or a document separator is expected");else return}function Dt(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new Hr(e,n),i=e.indexOf("\0");for(i!==-1&&(t.position=i,k(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Qr(t);return t.documents}function Zr(e,n,t){n!==null&&typeof n=="object"&&typeof t>"u"&&(t=n,n=null);var i=Dt(e,t);if(typeof n!="function")return i;for(var r=0,l=i.length;r<l;r+=1)n(i[r])}function Jr(e,n){var t=Dt(e,n);if(t.length!==0){if(t.length===1)return t[0];throw new W("expected a single document in the stream, but found more")}}var eo=Zr,no=Jr,Rt={loadAll:eo,load:no},jt=Object.prototype.toString,Pt=Object.prototype.hasOwnProperty,An=65279,to=9,Ne=10,io=13,ro=32,oo=33,lo=34,gn=35,co=37,so=38,ao=39,uo=42,Bt=44,fo=45,Ke=58,po=61,ho=62,mo=63,go=64,Ht=91,qt=93,_o=96,Yt=123,vo=124,Ut=125,Y={};Y[0]="\\0";Y[7]="\\a";Y[8]="\\b";Y[9]="\\t";Y[10]="\\n";Y[11]="\\v";Y[12]="\\f";Y[13]="\\r";Y[27]="\\e";Y[34]='\\"';Y[92]="\\\\";Y[133]="\\N";Y[160]="\\_";Y[8232]="\\L";Y[8233]="\\P";var xo=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bo=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yo(e,n){var t,i,r,l,o,c,s;if(n===null)return{};for(t={},i=Object.keys(n),r=0,l=i.length;r<l;r+=1)o=i[r],c=String(n[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&Pt.call(s.styleAliases,c)&&(c=s.styleAliases[c]),t[o]=c;return t}function wo(e){var n,t,i;if(n=e.toString(16).toUpperCase(),e<=255)t="x",i=2;else if(e<=65535)t="u",i=4;else if(e<=4294967295)t="U",i=8;else throw new W("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+B.repeat("0",i-n.length)+n}var Co=1,Me=2;function Ao(e){this.schema=e.schema||yn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=B.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=yo(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Me:Co,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function et(e,n){for(var t=B.repeat(" ",n),i=0,r=-1,l="",o,c=e.length;i<c;)r=e.indexOf(`
`,i),r===-1?(o=e.slice(i),i=c):(o=e.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(l+=t),l+=o;return l}function _n(e,n){return`
`+B.repeat(" ",e.indent*n)}function ko(e,n){var t,i,r;for(t=0,i=e.implicitTypes.length;t<i;t+=1)if(r=e.implicitTypes[t],r.resolve(n))return!0;return!1}function ze(e){return e===ro||e===to}function De(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==An||65536<=e&&e<=1114111}function nt(e){return De(e)&&e!==An&&e!==io&&e!==Ne}function tt(e,n,t){var i=nt(e),r=i&&!ze(e);return(t?i:i&&e!==Bt&&e!==Ht&&e!==qt&&e!==Yt&&e!==Ut)&&e!==gn&&!(n===Ke&&!r)||nt(n)&&!ze(n)&&e===gn||n===Ke&&r}function Fo(e){return De(e)&&e!==An&&!ze(e)&&e!==fo&&e!==mo&&e!==Ke&&e!==Bt&&e!==Ht&&e!==qt&&e!==Yt&&e!==Ut&&e!==gn&&e!==so&&e!==uo&&e!==oo&&e!==vo&&e!==po&&e!==ho&&e!==ao&&e!==lo&&e!==co&&e!==go&&e!==_o}function Eo(e){return!ze(e)&&e!==Ke}function $e(e,n){var t=e.charCodeAt(n),i;return t>=55296&&t<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function Wt(e){var n=/^\n* /;return n.test(e)}var Gt=1,vn=2,Kt=3,zt=4,be=5;function So(e,n,t,i,r,l,o,c){var s,a=0,d=null,u=!1,h=!1,m=i!==-1,E=-1,T=Fo($e(e,0))&&Eo($e(e,e.length-1));if(n||o)for(s=0;s<e.length;a>=65536?s+=2:s++){if(a=$e(e,s),!De(a))return be;T=T&&tt(a,d,c),d=a}else{for(s=0;s<e.length;a>=65536?s+=2:s++){if(a=$e(e,s),a===Ne)u=!0,m&&(h=h||s-E-1>i&&e[E+1]!==" ",E=s);else if(!De(a))return be;T=T&&tt(a,d,c),d=a}h=h||m&&s-E-1>i&&e[E+1]!==" "}return!u&&!h?T&&!o&&!r(e)?Gt:l===Me?be:vn:t>9&&Wt(e)?be:o?l===Me?be:vn:h?zt:Kt}function To(e,n,t,i,r){e.dump=function(){if(n.length===0)return e.quotingType===Me?'""':"''";if(!e.noCompatMode&&(xo.indexOf(n)!==-1||bo.test(n)))return e.quotingType===Me?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,t),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),c=i||e.flowLevel>-1&&t>=e.flowLevel;function s(a){return ko(e,a)}switch(So(n,c,e.indent,o,s,e.quotingType,e.forceQuotes&&!i,r)){case Gt:return n;case vn:return"'"+n.replace(/'/g,"''")+"'";case Kt:return"|"+it(n,e.indent)+rt(et(n,l));case zt:return">"+it(n,e.indent)+rt(et(Lo(n,o),l));case be:return'"'+Oo(n)+'"';default:throw new W("impossible error: invalid scalar style")}}()}function it(e,n){var t=Wt(e)?String(n):"",i=e[e.length-1]===`
`,r=i&&(e[e.length-2]===`
`||e===`
`),l=r?"+":i?"":"-";return t+l+`
`}function rt(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Lo(e,n){for(var t=/(\n+)([^\n]*)/g,i=function(){var a=e.indexOf(`
`);return a=a!==-1?a:e.length,t.lastIndex=a,ot(e.slice(0,a),n)}(),r=e[0]===`
`||e[0]===" ",l,o;o=t.exec(e);){var c=o[1],s=o[2];l=s[0]===" ",i+=c+(!r&&!l&&s!==""?`
`:"")+ot(s,n),r=l}return i}function ot(e,n){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,i,r=0,l,o=0,c=0,s="";i=t.exec(e);)c=i.index,c-r>n&&(l=o>r?o:c,s+=`
`+e.slice(r,l),r=l+1),o=c;return s+=`
`,e.length-r>n&&o>r?s+=e.slice(r,o)+`
`+e.slice(o+1):s+=e.slice(r),s.slice(1)}function Oo(e){for(var n="",t=0,i,r=0;r<e.length;t>=65536?r+=2:r++)t=$e(e,r),i=Y[t],!i&&De(t)?(n+=e[r],t>=65536&&(n+=e[r+1])):n+=i||wo(t);return n}function $o(e,n,t){var i="",r=e.tag,l,o,c;for(l=0,o=t.length;l<o;l+=1)c=t[l],e.replacer&&(c=e.replacer.call(t,String(l),c)),(ie(e,n,c,!1,!1)||typeof c>"u"&&ie(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function lt(e,n,t,i){var r="",l=e.tag,o,c,s;for(o=0,c=t.length;o<c;o+=1)s=t[o],e.replacer&&(s=e.replacer.call(t,String(o),s)),(ie(e,n+1,s,!0,!0,!1,!0)||typeof s>"u"&&ie(e,n+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=_n(e,n)),e.dump&&Ne===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=l,e.dump=r||"[]"}function Io(e,n,t){var i="",r=e.tag,l=Object.keys(t),o,c,s,a,d;for(o=0,c=l.length;o<c;o+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),s=l[o],a=t[s],e.replacer&&(a=e.replacer.call(t,s,a)),ie(e,n,s,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ie(e,n,a,!1,!1)&&(d+=e.dump,i+=d));e.tag=r,e.dump="{"+i+"}"}function No(e,n,t,i){var r="",l=e.tag,o=Object.keys(t),c,s,a,d,u,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new W("sortKeys must be a boolean or a function");for(c=0,s=o.length;c<s;c+=1)h="",(!i||r!=="")&&(h+=_n(e,n)),a=o[c],d=t[a],e.replacer&&(d=e.replacer.call(t,a,d)),ie(e,n+1,a,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Ne===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,u&&(h+=_n(e,n)),ie(e,n+1,d,!0,u)&&(e.dump&&Ne===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,r+=h));e.tag=l,e.dump=r||"{}"}function ct(e,n,t){var i,r,l,o,c,s;for(r=t?e.explicitTypes:e.implicitTypes,l=0,o=r.length;l<o;l+=1)if(c=r[l],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(t?c.multi&&c.representName?e.tag=c.representName(n):e.tag=c.tag:e.tag="?",c.represent){if(s=e.styleMap[c.tag]||c.defaultStyle,jt.call(c.represent)==="[object Function]")i=c.represent(n,s);else if(Pt.call(c.represent,s))i=c.represent[s](n,s);else throw new W("!<"+c.tag+'> tag resolver accepts not "'+s+'" style');e.dump=i}return!0}return!1}function ie(e,n,t,i,r,l,o){e.tag=null,e.dump=t,ct(e,t,!1)||ct(e,t,!0);var c=jt.call(e.dump),s=i,a;i&&(i=e.flowLevel<0||e.flowLevel>n);var d=c==="[object Object]"||c==="[object Array]",u,h;if(d&&(u=e.duplicates.indexOf(t),h=u!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&n>0)&&(r=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(No(e,n,e.dump,r),h&&(e.dump="&ref_"+u+e.dump)):(Io(e,n,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&n>0?lt(e,n-1,e.dump,r):lt(e,n,e.dump,r),h&&(e.dump="&ref_"+u+e.dump)):($o(e,n,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&To(e,e.dump,n,l,s);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new W("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(a=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?a="!"+a:a.slice(0,18)==="tag:yaml.org,2002:"?a="!!"+a.slice(18):a="!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Mo(e,n){var t=[],i=[],r,l;for(xn(e,t,i),r=0,l=i.length;r<l;r+=1)n.duplicates.push(t[i[r]]);n.usedDuplicates=new Array(l)}function xn(e,n,t){var i,r,l;if(e!==null&&typeof e=="object")if(r=n.indexOf(e),r!==-1)t.indexOf(r)===-1&&t.push(r);else if(n.push(e),Array.isArray(e))for(r=0,l=e.length;r<l;r+=1)xn(e[r],n,t);else for(i=Object.keys(e),r=0,l=i.length;r<l;r+=1)xn(e[i[r]],n,t)}function Do(e,n){n=n||{};var t=new Ao(n);t.noRefs||Mo(e,t);var i=e;return t.replacer&&(i=t.replacer.call({"":i},"",i)),ie(t,0,i,!0,!0)?t.dump+`
`:""}var Ro=Do,jo={dump:Ro};function kn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Po=q,Bo=ut,Ho=ht,qo=xt,Yo=bt,Uo=yn,Wo=Rt.load,Go=Rt.loadAll,Ko=jo.dump,zo=W,Vo={binary:kt,float:vt,map:dt,null:mt,pairs:Et,set:St,timestamp:Ct,bool:gt,int:_t,merge:At,omap:Ft,seq:pt,str:ft},Xo=kn("safeLoad","load"),Qo=kn("safeLoadAll","loadAll"),Zo=kn("safeDump","dump"),Jo={Type:Po,Schema:Bo,FAILSAFE_SCHEMA:Ho,JSON_SCHEMA:qo,CORE_SCHEMA:Yo,DEFAULT_SCHEMA:Uo,load:Wo,loadAll:Go,dump:Ko,YAMLException:zo,types:Vo,safeLoad:Xo,safeLoadAll:Qo,safeDump:Zo},Fn=Jo;var En={},Sn=[];function Tn(){return{...En}}function Vt(){return[...Sn]}async function Xt(e="locales/fr.yaml"){try{let t=await(await fetch(e)).text();En={...Fn.load(t)}}catch{En={error:"Erreur de chargement des textes UI."}}}async function Qt(e="locales/commands.yaml"){try{let t=await(await fetch(e)).text();Sn=Fn.load(t)||[]}catch{Sn=[]}}function nl(e){Be(e,"svelte-sbv1j",".manual-ui.svelte-sbv1j.svelte-sbv1j{border:1px solid #ccc;border-radius:8px;padding:1rem;margin-bottom:1rem;background:var(--background-secondary);max-width:600px;width:100%}.file-list.svelte-sbv1j.svelte-sbv1j{display:flex;flex-direction:column;gap:0.5rem;margin-bottom:1rem}.file-item.svelte-sbv1j.svelte-sbv1j{display:flex;align-items:center;background:var(--background-primary);border:1px solid #ddd;border-radius:4px;padding:0.5rem;cursor:grab}.file-item.svelte-sbv1j .remove.svelte-sbv1j{margin-left:auto;color:#c00;cursor:pointer}.drag-area.svelte-sbv1j.svelte-sbv1j{border:2px dashed #888;border-radius:6px;padding:1rem;text-align:center;margin-bottom:1rem;background:#f8f8f8}.name-field.svelte-sbv1j.svelte-sbv1j{margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem}@media(max-width: 700px){.manual-ui.svelte-sbv1j.svelte-sbv1j{max-width:98vw;padding:0.5rem}}")}function Zt(e,n,t){let i=e.slice();return i[14]=n[t],i}function Jt(e,n,t){let i=e.slice();return i[17]=n[t],i[19]=t,i}function ei(e,n,t){let i=e.slice();return i[20]=n[t],i[19]=t,i}function tl(e){let n,t,i;function r(){return e[11](e[19])}return{c(){n=I("button"),n.textContent="\u2193"},m(l,o){te(l,n,o),t||(i=V(n,"click",r),t=!0)},p(l,o){e=l},d(l){l&&Z(n),t=!1,i()}}}function ni(e){let n,t,i=e[20].name+"",r,l,o,c,s,a;function d(){return e[10](e[19])}let u=e[19]<e[2].length-1&&tl(e);return{c(){n=I("div"),t=I("span"),r=z(i),l=D(),o=I("span"),o.textContent="\u2716",c=D(),u&&u.c(),H(o,"class","remove svelte-sbv1j"),H(n,"class","file-item svelte-sbv1j"),H(n,"draggable","true")},m(h,m){te(h,n,m),C(n,t),C(t,r),C(n,l),C(n,o),C(n,c),u&&u.m(n,null),s||(a=V(o,"click",d),s=!0)},p(h,m){e=h,e[19]<e[2].length-1&&u.p(e,m)},d(h){h&&Z(n),u&&u.d(),s=!1,a()}}}function ti(e){let n,t,i=e[17]+"",r,l,o,c,s,a,d;function u(){return e[12](e[19])}return{c(){n=I("div"),t=I("span"),r=z(i),l=z(" (externe)"),o=D(),c=I("span"),c.textContent="\u2716",s=D(),H(c,"class","remove svelte-sbv1j"),H(n,"class","file-item svelte-sbv1j")},m(h,m){te(h,n,m),C(n,t),C(t,r),C(t,l),C(n,o),C(n,c),C(n,s),a||(d=V(c,"click",u),a=!0)},p(h,m){e=h},d(h){h&&Z(n),a=!1,d()}}}function ii(e){let n,t,i=e[14].name+"",r,l,o=e[14].description+"",c;return{c(){n=I("li"),t=I("b"),r=z(i),l=z(" \u2014 "),c=z(o)},m(s,a){te(s,n,a),C(n,t),C(t,r),C(n,l),C(n,c)},p(s,a){a&2&&i!==(i=s[14].name+"")&&pe(r,i),a&2&&o!==(o=s[14].description+"")&&pe(c,o)},d(s){s&&Z(n)}}}function il(e){let n,t,i,r,l,o,c,s,a,d,u,h,m,E,T,A,y,g,L,$,p,w=e[2],_=[];for(let f=0;f<w.length;f+=1)_[f]=ni(ei(e,w,f));let b=e[3],v=[];for(let f=0;f<b.length;f+=1)v[f]=ti(Jt(e,b,f));let S=e[1],F=[];for(let f=0;f<S.length;f+=1)F[f]=ii(Zt(e,S,f));return{c(){n=I("div"),t=I("h2"),t.textContent="Combinaison manuelle",i=D(),r=I("div"),r.textContent="Glisser-d\xE9poser des fichiers markdown ici (depuis Obsidian ou l'ext\xE9rieur)",l=D(),o=I("div");for(let f=0;f<_.length;f+=1)_[f].c();c=D();for(let f=0;f<v.length;f+=1)v[f].c();s=D(),a=I("div"),d=I("label"),d.textContent="Nom du fichier combin\xE9 :",u=D(),h=I("input"),m=D(),E=I("button"),E.textContent="Combiner et cr\xE9er le fichier",T=D(),A=I("div"),y=I("h3"),y.textContent="Commandes disponibles",g=D(),L=I("ul");for(let f=0;f<F.length;f+=1)F[f].c();H(r,"class","drag-area svelte-sbv1j"),H(o,"class","file-list svelte-sbv1j"),H(h,"type","text"),Ee(h,"flex","1"),H(a,"class","name-field svelte-sbv1j"),Ee(A,"margin-top","2rem"),H(n,"class","manual-ui svelte-sbv1j")},m(f,O){te(f,n,O),C(n,t),C(n,i),C(n,r),C(n,l),C(n,o);for(let x=0;x<_.length;x+=1)_[x]&&_[x].m(o,null);C(o,c);for(let x=0;x<v.length;x+=1)v[x]&&v[x].m(o,null);C(n,s),C(n,a),C(a,d),C(a,u),C(a,h),ln(h,e[0]),C(n,m),C(n,E),C(n,T),C(n,A),C(A,y),C(A,g),C(A,L);for(let x=0;x<F.length;x+=1)F[x]&&F[x].m(L,null);$||(p=[V(r,"drop",e[4]),V(r,"dragover",rl),V(h,"input",e[13]),V(E,"click",e[7])],$=!0)},p(f,[O]){if(O&100){w=f[2];let x;for(x=0;x<w.length;x+=1){let M=ei(f,w,x);_[x]?_[x].p(M,O):(_[x]=ni(M),_[x].c(),_[x].m(o,c))}for(;x<_.length;x+=1)_[x].d(1);_.length=w.length}if(O&8){b=f[3];let x;for(x=0;x<b.length;x+=1){let M=Jt(f,b,x);v[x]?v[x].p(M,O):(v[x]=ti(M),v[x].c(),v[x].m(o,null))}for(;x<v.length;x+=1)v[x].d(1);v.length=b.length}if(O&1&&h.value!==f[0]&&ln(h,f[0]),O&2){S=f[1];let x;for(x=0;x<S.length;x+=1){let M=Zt(f,S,x);F[x]?F[x].p(M,O):(F[x]=ii(M),F[x].c(),F[x].m(L,null))}for(;x<F.length;x+=1)F[x].d(1);F.length=S.length}},i:oe,o:oe,d(f){f&&Z(n),He(_,f),He(v,f),He(F,f),$=!1,Q(p)}}}function rl(e){e.preventDefault()}function ol(e,n,t){let{app:i}=n,{markdownProcessor:r}=n,l=[],o=[],c="notes-combinees.md",s=[];function a(y){y.preventDefault();let g=y.dataTransfer?.items;if(g)for(let L=0;L<g.length;L++){let $=g[L];if($.kind==="file"){let p=$.getAsFile();p&&p.name.endsWith(".md")&&o.push(p.name)}else $.kind==="string"&&$.getAsString(async p=>{let w=i.vault.getAbstractFileByPath(p);w&&"extension"in w&&w.extension==="md"&&l.push(w)})}}function d(y,g){let L=l.splice(y,1)[0];l.splice(g,0,L)}function u(y){l.splice(y,1)}async function h(){if(!r){console.error("MarkdownProcessor is not available.");return}let y="";for(let L of l){let $=await i.vault.read(L);y+=$+`
`}let g=await r.processMarkdown(y);try{await i.vault.create(c,g),console.log(`File ${c} created successfully.`)}catch(L){console.error(`Error creating file ${c}:`,L)}}let m=y=>u(y),E=y=>d(y,y+1),T=y=>o.splice(y,1);function A(){c=this.value,t(0,c)}return e.$$set=y=>{"app"in y&&t(8,i=y.app),"markdownProcessor"in y&&t(9,r=y.markdownProcessor)},[c,s,l,o,a,d,u,h,i,r,m,E,T,A]}var Ln=class extends ne{constructor(n){super(),he(this,n,ol,il,fe,{app:8,markdownProcessor:9},nl)}},ri=Ln;var Hl=require("obsidian");function ll(e){Be(e,"svelte-1q993eg",".combiner-app.svelte-1q993eg.svelte-1q993eg{padding:1rem}.combiner-container.svelte-1q993eg.svelte-1q993eg{padding:20px}.button-container.svelte-1q993eg.svelte-1q993eg{margin:20px 0}.status.svelte-1q993eg.svelte-1q993eg{margin:10px 0;font-style:italic}.preview.svelte-1q993eg.svelte-1q993eg{margin-top:20px;padding:10px;border:1px solid var(--background-modifier-border);border-radius:4px}.preview.svelte-1q993eg pre.svelte-1q993eg{max-height:300px;overflow:auto;white-space:pre-wrap}")}function oi(e){let n,t;return n=new ri({props:{app:e[0],markdownProcessor:e[2]}}),{c(){sn(n.$$.fragment)},m(i,r){qe(n,i,r),t=!0},p(i,r){let l={};r&1&&(l.app=i[0]),r&4&&(l.markdownProcessor=i[2]),n.$set(l)},i(i){t||(de(n.$$.fragment,i),t=!0)},o(i){Se(n.$$.fragment,i),t=!1},d(i){Te(n,i)}}}function li(e){let n,t,i,r,l;return{c(){n=I("div"),t=I("h4"),t.textContent="Aper\xE7u LaTeX",i=D(),r=I("pre"),l=z(e[6]),H(r,"class","svelte-1q993eg"),H(n,"class","preview svelte-1q993eg")},m(o,c){te(o,n,c),C(n,t),C(n,i),C(n,r),C(r,l)},p(o,c){c&64&&pe(l,o[6])},d(o){o&&Z(n)}}}function cl(e){let n,t,i,r,l=e[3]?"Fermer la combinaison manuelle":"Combinaison manuelle avanc\xE9e",o,c,s,a,d,u,h,m,E,T,A,y,g,L,$,p,w,_,b,v=e[3]&&oi(e),S={app:e[0],settings:e[1],basePath:"",config:null,combinedFileName:""};a=new Yn({props:S}),e[12](a);let F=e[5]&&e[6]&&li(e);return{c(){n=I("div"),t=I("h1"),t.textContent="Markdown Combiner",i=D(),r=I("button"),o=z(l),c=D(),v&&v.c(),s=D(),sn(a.$$.fragment),d=D(),u=I("button"),u.textContent="Combine Active Note",h=D(),m=I("div"),E=I("h3"),E.textContent="Combiner et Convertir en LaTeX",T=D(),A=I("div"),y=I("button"),y.textContent="Combiner et Convertir",g=D(),L=I("div"),$=z(e[4]),p=D(),F&&F.c(),Ee(r,"margin-bottom","1rem"),H(A,"class","button-container svelte-1q993eg"),H(L,"class","status svelte-1q993eg"),H(m,"class","combiner-container svelte-1q993eg"),H(n,"class","combiner-app svelte-1q993eg")},m(f,O){te(f,n,O),C(n,t),C(n,i),C(n,r),C(r,o),C(n,c),v&&v.m(n,null),C(n,s),qe(a,n,null),C(n,d),C(n,u),C(n,h),C(n,m),C(m,E),C(m,T),C(m,A),C(A,y),C(m,g),C(m,L),C(L,$),C(m,p),F&&F.m(m,null),w=!0,_||(b=[V(r,"click",e[11]),V(u,"click",e[7]),V(y,"click",e[8])],_=!0)},p(f,[O]){(!w||O&8)&&l!==(l=f[3]?"Fermer la combinaison manuelle":"Combinaison manuelle avanc\xE9e")&&pe(o,l),f[3]?v?(v.p(f,O),O&8&&de(v,1)):(v=oi(f),v.c(),de(v,1),v.m(n,s)):v&&(Hn(),Se(v,1,1,()=>{v=null}),qn());let x={};O&1&&(x.app=f[0]),O&2&&(x.settings=f[1]),a.$set(x),(!w||O&16)&&pe($,f[4]),f[5]&&f[6]?F?F.p(f,O):(F=li(f),F.c(),F.m(m,null)):F&&(F.d(1),F=null)},i(f){w||(de(v),de(a.$$.fragment,f),w=!0)},o(f){Se(v),Se(a.$$.fragment,f),w=!1},d(f){f&&Z(n),v&&v.d(),e[12](null),Te(a),F&&F.d(),_=!1,Q(b)}}}function sl(e,n,t){let{app:i}=n,{settings:r}=n,{defaultFileName:l="note-combinee.md"}=n,{checkFileExists:o=async()=>!1}=n,c,s,a="",d=Tn(),u=fn(),h=!1,m="",E=!1,T="";async function A(){if(c){let p=i.workspace.getActiveFile();if(p){let w=await i.vault.read(p);combinedContent=await c.processMarkdown(w),Wn(w),Gn(combinedContent),u=fn()}}}async function y(){let p=await Le(l,o);a=`${d.save_success||"Fichier sauvegard\xE9 sous :"} ${p}`}async function g(){try{t(4,m="Combinaison des fichiers...");let p=i.workspace.getActiveFile();if(!p){t(4,m="Erreur: Aucun fichier actif");return}let w=await i.vault.read(p);combinedContent=await c.processMarkdown(w),t(4,m="Conversion en LaTeX..."),t(6,T=await s.convertToLatex(combinedContent,p.basename));let _=p.basename+".tex",b=p.parent?.path||"";await i.vault.create(b?`${b}/${_}`:_,T),t(4,m="Conversion termin\xE9e !"),t(5,E=!0)}catch(p){t(4,m=`Erreur: ${p.message}`)}}let L=()=>t(3,h=!h);function $(p){Pe[p?"unshift":"push"](()=>{c=p,t(2,c)})}return e.$$set=p=>{"app"in p&&t(0,i=p.app),"settings"in p&&t(1,r=p.settings),"defaultFileName"in p&&t(9,l=p.defaultFileName),"checkFileExists"in p&&t(10,o=p.checkFileExists)},[i,r,c,h,m,E,T,A,g,l,o,L,$]}var On=class extends ne{constructor(n){super(),he(this,n,sl,cl,fe,{app:0,settings:1,defaultFileName:9,checkFileExists:10},ll)}},$n=On;var Ae={useHiddenEmbeds:!0};function ke(){return{...Ae}}function ci(e,n){Ae={...Ae,[e]:n}}async function si(e){let n=await e.loadData();n&&(Ae={...Ae,...n})}async function ai(e){await e.saveData(Ae)}Ye();async function ui(e,n,t){let i=n.parent,r=n.basename+"-combined.md",o=await Le(r,async d=>{let u=i?i.path+"/"+d:d;return!!e.vault.getAbstractFileByPath(u)}),c=i?i.path+"/"+o:o,s=await e.vault.create(c,t);await e.workspace.getLeaf("split","vertical").openFile(s),e.workspace.trigger("notice","Fichier combin\xE9 cr\xE9\xE9 et ouvert : "+o)}var Xe=class extends se.Plugin{view;async onload(){await this.loadSettings(),this.addSettingTab(new In(this.app,this)),this.addRibbonIcon("dice","Combine Notes",()=>{this.activateView()}),this.addCommand({id:"open-combiner-view",name:"Open Combiner",callback:()=>{this.activateView()}}),this.addCommand({id:"combine-active-note-to-file",name:"Combiner la note active (fichier)",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){new se.Notice("Aucun fichier actif.");return}let t=ke(),i=await un(this.app,n,t);await ui(this.app,n,i)}}),this.addCommand({id:"combine-active-note-direct",name:"Combiner la note active (direct)",icon:"combiner",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){this.app.workspace.trigger("notice","Aucune note active");return}let{combineMarkdownNote:t}=await Promise.resolve().then(()=>(Ye(),Un)),i=ke(),r=await t(this.app,n,i);await ui(this.app,n,r)}}),this.addCommand({id:"open-combiner-dom",name:"Ouvrir le combiner (s\xE9lection manuelle)",callback:()=>{let n=document.getElementById("combiner-debug-root");n?n.innerHTML="":(n=document.createElement("div"),n.id="combiner-debug-root",n.style.position="fixed",n.style.top="60px",n.style.right="20px",n.style.zIndex="9999",n.style.background="var(--background-primary)",n.style.border="1px solid var(--background-modifier-border)",n.style.borderRadius="8px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",n.style.padding="1rem",n.style.maxWidth="400px",document.body.appendChild(n));let t=ke();new $n({target:n,props:{app:this.app,settings:t}})}})}async onunload(){this.view}activateView(){let n=this.app.workspace.getRightLeaf(!1);if(n&&n.view.containerEl.children[1]){let t=ke();this.view=new $n({target:n.view.containerEl.children[1],props:{app:this.app,settings:t}}),this.app.workspace.revealLeaf(n)}}async loadSettings(){await si(this)}async saveSettings(){await ai(this)}},In=class extends se.PluginSettingTab{plugin;constructor(n,t){super(n,t),this.plugin=t}display(){let{containerEl:n}=this;n.empty(),n.createEl("h2",{text:"Settings for Combiner Plugin."});let t=ke();new se.Setting(n).setName("Use Hidden Embeds").setDesc("If enabled, internal links to notes not already embedded will be added as hidden comment blocks.").addToggle(i=>i.setValue(t.useHiddenEmbeds).onChange(async r=>{ci("useHiddenEmbeds",r),await this.plugin.saveSettings()}))}};
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/

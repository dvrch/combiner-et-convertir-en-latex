/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var tn=Object.defineProperty;var xi=Object.getOwnPropertyDescriptor;var yi=Object.getOwnPropertyNames;var wi=Object.prototype.hasOwnProperty;var Ai=(e,n)=>()=>(e&&(n=e(e=0)),n);var Dn=(e,n)=>{for(var t in n)tn(e,t,{get:n[t],enumerable:!0})},Ci=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of yi(n))!wi.call(e,r)&&r!==t&&tn(e,r,{get:()=>n[r],enumerable:!(i=xi(n,r))||i.enumerable});return e};var ki=e=>Ci(tn({},"__esModule",{value:!0}),e);var Jt={};Dn(Jt,{combineMarkdownNote:()=>Tn,getUniqueFileName:()=>Ye});async function Tn(e,n,t){let i=new Set,r=new Set,l=new Set,o={};function c(x,I){let f=[],$=[],B=I.split(`
`);for(let y of B){let O=y.match(/^(#+)\s*(.*)$/);if(O){let _=O[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();f.push(_)}let w=y.match(/\^([\w-]+)$/);w&&$.push(w[1])}o[x.toLowerCase()]={file:x,sections:f,blocks:$}}async function s(x){let I=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,f=x,$;for(;($=I.exec(x))!==null;){let B=$[0],y=$[1].trim();if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(y)){let O=`%% EMBED IMAGE: ${y} %%
`;f=f.replace(B,O+B);continue}if(!i.has(y)){i.add(y),r.add(y.toLowerCase());try{let O=e.metadataCache.getFirstLinkpathDest(y,"");if(O){let w=await e.vault.read(O);(!w||w.trim()==="")&&(w=`<!-- Contenu vide ou non trouv\xE9 pour '${y}' -->`),c(y,w);let _=await m(w,O.parent?.path||""),T=`^${y.replace(/_/g,"-")}`,C=`%% EMBED START: [${y}] %% ${T}
`,E=`
%% EMBED END: ${y} %%`;f=f.replace(B,C+_+E)}else f=f.replace(B,`![[${y}]]`)}catch{f=f.replace(B,`![[${y}]]`)}finally{i.delete(y)}}}return f}async function a(x){let I=/\[\[([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,f=x.split(`
`),$=!1,B=-1,y=[];for(let w=0;w<f.length;w++)/^(```|~~~)/.test(f[w].trim())&&($?($=!1,y.push({start:B,end:w})):($=!0,B=w));let O=[];for(let w=0;w<f.length;w++){let _=f[w],T,C=!1;for(let E of y)if(w>=E.start&&w<=E.end){C=!0;break}if(C){O.push(_);continue}for(;(T=I.exec(_))!==null;){let E=T[0],k=T[1].trim(),N=T[2],H=T[3],R=T[4],j=T[5],h=T[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(k))continue;let D=o[k.toLowerCase()];if(D){if(!N&&!R){let M=`^${k.replace(/_/g,"-")}`,b=h||k;_=_.replace(E,`[[#${M}|${b}]]`);continue}if(N&&H){let M=H.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(D.sections.includes(M)){let b=h||H;_=_.replace(E,`[[#${M}|${b}]]`);continue}}if(R&&j){let M="^"+j.replace(/_/g,"-");if(D.blocks.includes(j.replace(/_/g,"-"))){let b=h||j;_=_.replace(E,`[[#${M}|${b}]]`);continue}}}if(t.useHiddenEmbeds&&!r.has(k.toLowerCase())&&!l.has(k.toLowerCase()))try{let M=e.metadataCache.getFirstLinkpathDest(k,"");if(M){let b=await e.vault.read(M);(!b||b.trim()==="")&&(b=`<!-- Contenu vide ou non trouv\xE9 pour '${k}' -->`);let Y=`%%EMBED HIDDEN START: [[${k}]] 
${b}
EMBED HIDDEN END %%`;O.push(Y),l.add(k.toLowerCase())}}catch{}let q=e.metadataCache.getFirstLinkpathDest(k,"");if(q&&!q.path.startsWith("http")&&!q.path.startsWith("/")){let M=h||k;_=_.replace(E,`[[${k}|${M}]]`)}else{let M=h||k;_=_.replace(E,`[[${k}|${M}]]`)}}I.lastIndex=0,O.push(_)}return O.join(`
`)}async function d(x){let I=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,f=x,$;for(;($=I.exec(x))!==null;){let B=$[0],y=$[1].trim(),O=$[2],w=$[3],_=$[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(y)&&(y=y.replace(/\.md$/i,""));try{let C=e.metadataCache.getFirstLinkpathDest(y,"");if(C){let k=`![[${C.path.replace(/\\/g,"/")}`;O&&w&&(k+=`#${w}`),_&&(k+=`|${_}`),k+="]]",f=f.replace(B,k)}else f=f.replace(B,`![[${y}]]`)}catch{}}return f}function u(x){return x}async function m(x,I){let f=x;return f=await s(f),f=await a(f),f=await d(f),f=f,f}function p(x){return x.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(I,f,$,B)=>r.has(f.toLowerCase())?B?`[[#^${$}|${B}]]`:`[[#^${$}]]`:I)}let v=await e.vault.read(n),L=await m(v,n.parent?.path||"");return L=p(L),L}async function Ye(e,n){let t=e.lastIndexOf("."),i=t!==-1?e.slice(0,t):e,r=t!==-1?e.slice(t):"",l=e,o=1;for(;await n(l);)l=`${i} (${o})${r}`,o++;return l}var Kl,en=Ai(()=>{"use strict";Kl=require("obsidian")});var yl={};Dn(yl,{default:()=>nn});module.exports=ki(yl);var ge=require("obsidian");function oe(){}function sn(e){return e()}function $n(){return Object.create(null)}function ie(e){e.forEach(sn)}function We(e){return typeof e=="function"}function fe(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Pn(e){return Object.keys(e).length===0}var Bn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,on=class e{constructor(n){this.options=n,this._listeners="WeakMap"in Bn?new WeakMap:void 0}observe(n,t){return this._listeners.set(n,t),this._getObserver().observe(n,this.options),()=>{this._listeners.delete(n),this._observer.unobserve(n)}}_getObserver(){var n;return(n=this._observer)!==null&&n!==void 0?n:this._observer=new ResizeObserver(t=>{var i;for(let r of t)e.entries.set(r.target,r),(i=this._listeners.get(r.target))===null||i===void 0||i(r)})}};on.entries="WeakMap"in Bn?new WeakMap:void 0;var jn=!1;function Fi(){jn=!0}function Ei(){jn=!1}function g(e,n){e.appendChild(n)}function Ae(e,n,t){let i=Si(e);if(!i.getElementById(n)){let r=S("style");r.id=n,r.textContent=t,Ti(i,r)}}function Si(e){if(!e)return document;let n=e.getRootNode?e.getRootNode():e.ownerDocument;return n&&n.host?n:e.ownerDocument}function Ti(e,n){return g(e.head||e,n),n.sheet}function Z(e,n,t){e.insertBefore(n,t||null)}function Q(e){e.parentNode&&e.parentNode.removeChild(e)}function Ne(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function S(e){return document.createElement(e)}function z(e){return document.createTextNode(e)}function P(){return z(" ")}function W(e,n,t,i){return e.addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}function Hn(e){return function(n){return n.preventDefault(),e.call(this,n)}}function U(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Li(e){return Array.from(e.childNodes)}function re(e,n){n=""+n,e.data!==n&&(e.data=n)}function Me(e,n){e.value=n??""}function le(e,n,t,i){t==null?e.style.removeProperty(n):e.style.setProperty(n,t,i?"important":"")}var an;function Ie(e){an=e}function Yn(e,n){let t=e.$$.callbacks[n.type];t&&t.slice().forEach(i=>i.call(this,n))}var ye=[];var Ge=[],we=[],Rn=[],Oi=Promise.resolve(),ln=!1;function Ii(){ln||(ln=!0,Oi.then(Un))}function cn(e){we.push(e)}var rn=new Set,xe=0;function Un(){if(xe!==0)return;let e=an;do{try{for(;xe<ye.length;){let n=ye[xe];xe++,Ie(n),Ni(n.$$)}}catch(n){throw ye.length=0,xe=0,n}for(Ie(null),ye.length=0,xe=0;Ge.length;)Ge.pop()();for(let n=0;n<we.length;n+=1){let t=we[n];rn.has(t)||(rn.add(t),t())}we.length=0}while(ye.length);for(;Rn.length;)Rn.pop()();ln=!1,rn.clear(),Ie(e)}function Ni(e){if(e.fragment!==null){e.update(),ie(e.before_update);let n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(cn)}}function Mi(e){let n=[],t=[];we.forEach(i=>e.indexOf(i)===-1?n.push(i):t.push(i)),t.forEach(i=>i()),we=n}var qe=new Set,_e;function qn(){_e={r:0,c:[],p:_e}}function Wn(){_e.r||ie(_e.c),_e=_e.p}function de(e,n){e&&e.i&&(qe.delete(e),e.i(n))}function Ce(e,n,t,i){if(e&&e.o){if(qe.has(e))return;qe.add(e),_e.c.push(()=>{qe.delete(e),i&&(t&&e.d(1),i())}),e.o(n)}else i&&i()}var Di=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Al=new Set([...Di]);function Ke(e){e&&e.c()}function De(e,n,t,i){let{fragment:r,after_update:l}=e.$$;r&&r.m(n,t),i||cn(()=>{let o=e.$$.on_mount.map(sn).filter(We);e.$$.on_destroy?e.$$.on_destroy.push(...o):ie(o),e.$$.on_mount=[]}),l.forEach(cn)}function ke(e,n){let t=e.$$;t.fragment!==null&&(Mi(t.after_update),ie(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function $i(e,n){e.$$.dirty[0]===-1&&(ye.push(e),Ii(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function pe(e,n,t,i,r,l,o,c=[-1]){let s=an;Ie(e);let a=e.$$={fragment:null,ctx:[],props:l,update:oe,not_equal:r,bound:$n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(s?s.$$.context:[])),callbacks:$n(),dirty:c,skip_bound:!1,root:n.target||s.$$.root};o&&o(a.root);let d=!1;if(a.ctx=t?t(e,n.props||{},(u,m,...p)=>{let v=p.length?p[0]:m;return a.ctx&&r(a.ctx[u],a.ctx[u]=v)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](v),d&&$i(e,u)),m}):[],a.update(),d=!0,ie(a.before_update),a.fragment=i?i(a.ctx):!1,n.target){if(n.hydrate){Fi();let u=Li(n.target);a.fragment&&a.fragment.l(u),u.forEach(Q)}else a.fragment&&a.fragment.c();n.intro&&de(e.$$.fragment),De(e,n.target,n.anchor,n.customElement),Ei(),Un()}Ie(s)}var Ri;typeof HTMLElement=="function"&&(Ri=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(sn).filter(We);for(let n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(e,n,t){this[e]=t}disconnectedCallback(){ie(this.$$.on_disconnect)}$destroy(){ke(this,1),this.$destroy=oe}$on(e,n){if(!We(n))return oe;let t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{let i=t.indexOf(n);i!==-1&&t.splice(i,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var se=class{$destroy(){ke(this,1),this.$destroy=oe}$on(n,t){if(!We(t))return oe;let i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(t),()=>{let r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(n){this.$$set&&!Pn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}};var tc=require("obsidian");var Pl=require("obsidian");function Pi(e){let n=[],t=0;return{text:e.replace(/\$\$([\s\S]*?)\$\$/g,(r,l)=>{let o=`__MATH_BLOCK_${t}__`;return n[t]=r,t++,o}),mathBlocks:n}}function Bi(e,n){let t=e;return n.forEach((i,r)=>{t=t.replace(`__MATH_BLOCK_${r}__`,i)}),t}function ji(e,n,t){let{app:i}=n,{basePath:r}=n,{settings:l}=n,{config:o=null}=n,{combinedFileName:c=""}=n,s=new Set,a="",d=new Set,u={},m=new Set;function p(y,O){let w=[],_=[],T=O.split(`
`);for(let C of T){let E=C.match(/^(#+)\s*(.*)$/);if(E){let N=E[2].trim().replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();w.push(N)}let k=C.match(/\^([\w-]+)$/);k&&_.push(k[1])}u[y.toLowerCase()]={file:y,sections:w,blocks:_}}async function v(y){let O=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,w=y,_;for(;(_=O.exec(y))!==null;){let T=_[0],C=_[1].trim(),E=_[2],k=_[3],N=_[4],H=_[5];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(C)){let R=`%% EMBED IMAGE: ${C} %%
`;w=w.replace(T,R+T);continue}if(!s.has(C)){s.add(C),d.add(C.toLowerCase());try{let R=i.metadataCache.getFirstLinkpathDest(C,"");if(R){let j=await i.vault.read(R);(!j||j.trim()==="")&&(j=`<!-- Contenu vide ou non trouv\xE9 pour '${C}' -->`);let h=j;p(C,h),h=await I(h,R.parent?.path||"");let D=`^${C.replace(/_/g,"-")}`,q=`%% EMBED START: [${C}] %% ${D}
`,M=`
%% EMBED END: ${C} %%`;w=w.replace(T,`
${q}${h}${M}`)}else w=w.replace(T,`![[${C}]]`)}catch{w=w.replace(T,`![[${C}]]`)}finally{s.delete(C)}}}return w}async function L(y){let O=/\[\[(?!\#)([^\]#|^/]+)(?:(#)([^\]|]+))?(?:(\^)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,w=y.split(`
`),_=!1,T=-1,C=[];for(let k=0;k<w.length;k++)/^(```|~~~)/.test(w[k].trim())&&(_?(_=!1,C.push({start:T,end:k})):(_=!0,T=k));let E=[];for(let k=0;k<w.length;k++){let N=w[k],H,R=!1;for(let j of C)if(k>=j.start&&k<=j.end){R=!0;break}if(R){E.push(N);continue}for(;(H=O.exec(N))!==null;){let j=H[0],h=H[1].trim(),D=H[2],q=H[3],M=H[4],b=H[5],Y=H[6];if(/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(h))continue;let A=u[h.toLowerCase()];if(A){if(!D&&!M){let ee=`^${h.replace(/_/g,"-")}`,ce=Y||h;N=N.replace(j,`[[#${ee}|${ce}]]`);continue}if(D&&q){let ee=q.replace(/_/g,"-").replace(/\s+/g,"-").toLowerCase();if(A.sections.includes(ee)){let ce=Y||q;N=N.replace(j,`[[#${ee}|${ce}]]`);continue}}if(M&&b){let ee="^"+b.replace(/_/g,"-");if(A.blocks.includes(b.replace(/_/g,"-"))){let ce=Y||b;N=N.replace(j,`[[#${ee}|${ce}]]`);continue}}}if(l.useHiddenEmbeds&&!d.has(h.toLowerCase())&&!m.has(h.toLowerCase()))try{let ee=i.metadataCache.getFirstLinkpathDest(h,"");if(ee){let ce=await i.vault.read(ee);(!ce||ce.trim()==="")&&(ce=`<!-- Contenu vide ou non trouv\xE9 pour '${h}' -->`);let vi=`%%EMBED HIDDEN START: [[${h}]] 
${ce}
EMBED HIDDEN END %%`;E.push(vi),m.add(h.toLowerCase())}}catch{}let te=i.metadataCache.getFirstLinkpathDest(h,"");if(te&&!te.path.startsWith("http")&&!te.path.startsWith("/")){let ee=Y||h;N=N.replace(j,`[[${h}|${ee}]]`)}else{let ee=Y||h;N=N.replace(j,`[[${h}|${ee}]]`)}}O.lastIndex=0,E.push(N)}return E.join(`
`)}async function x(y){let O=/!\[\[([^\]#|^]+)(?:(#)([^\]|]+))?(?:\|([^\]]+))?\]\]/g,w=y,_;for(;(_=O.exec(y))!==null;){let T=_[0],C=_[1].trim(),E=_[2],k=_[3],N=_[4];/\.(png|jpg|jpeg|gif|svg|bmp|webp)$/i.test(C)&&(C=C.replace(/\.md$/i,""));try{let R=i.metadataCache.getFirstLinkpathDest(C,"");if(R){let h=`![[${R.path.replace(/\\/g,"/")}`;E&&k&&(h+=`#${k}`),N&&(h+=`|${N}`),h+="]]",w=w.replace(T,h)}else w=w.replace(T,`![[${C}]]`)}catch{w=w.replace(T,`![[${C}]]`)}}return w}async function I(y,O){let{text:w,mathBlocks:_}=Pi(y),T=w;return T=await v(T),T=await L(T),T=await x(T),T=T,Bi(T,_)}function f(y){return y.replace(/\[\[([^\]#|^/]+)#\^([\w-]+)(?:\|([^\]]+))?\]\]/g,(O,w,_,T)=>d.has(w.toLowerCase())?T?`[[#^${_}|${T}]]`:`[[#^${_}]]`:O)}async function $(y){a="Traitement des liens...",s.clear(),d.clear(),m.clear(),u={};try{let O=await I(y,r);return O=f(O),a="Traitement termin\xE9",O}catch(O){throw a="Erreur lors du traitement",O}}function B(){s.clear(),a="",d.clear(),m.clear(),u={}}return e.$$set=y=>{"app"in y&&t(0,i=y.app),"basePath"in y&&t(1,r=y.basePath),"settings"in y&&t(2,l=y.settings),"config"in y&&t(3,o=y.config),"combinedFileName"in y&&t(4,c=y.combinedFileName)},[i,r,l,o,c,$,B]}var un=class extends se{constructor(n){super(),pe(this,n,ji,null,fe,{app:0,basePath:1,settings:2,config:3,combinedFileName:4,processMarkdown:5,resetState:6})}get processMarkdown(){return this.$$.ctx[5]}get resetState(){return this.$$.ctx[6]}},Gn=un;function st(e){return typeof e>"u"||e===null}function Hi(e){return typeof e=="object"&&e!==null}function Yi(e){return Array.isArray(e)?e:st(e)?[]:[e]}function Ui(e,n){var t,i,r,l;if(n)for(l=Object.keys(n),t=0,i=l.length;t<i;t+=1)r=l[t],e[r]=n[r];return e}function qi(e,n){var t="",i;for(i=0;i<n;i+=1)t+=e;return t}function Wi(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Gi=st,Ki=Hi,zi=Yi,Vi=qi,Qi=Wi,Xi=Ui,K={isNothing:Gi,isObject:Ki,toArray:zi,repeat:Vi,isNegativeZero:Qi,extend:Xi};function at(e,n){var t="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(t+=`

`+e.mark.snippet),i+" "+t):i}function Re(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=at(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Re.prototype=Object.create(Error.prototype);Re.prototype.constructor=Re;Re.prototype.toString=function(n){return this.name+": "+at(this,n)};var J=Re;function fn(e,n,t,i,r){var l="",o="",c=Math.floor(r/2)-1;return i-n>c&&(l=" ... ",n=i-c+l.length),t-i>c&&(o=" ...",t=i+c-o.length),{str:l+e.slice(n,t).replace(/\t/g,"\u2192")+o,pos:i-n+l.length}}function dn(e,n){return K.repeat(" ",n-e.length)+e}function Zi(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],r=[],l,o=-1;l=t.exec(e.buffer);)r.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var c="",s,a,d=Math.min(e.line+n.linesAfter,r.length).toString().length,u=n.maxLength-(n.indent+d+3);for(s=1;s<=n.linesBefore&&!(o-s<0);s++)a=fn(e.buffer,i[o-s],r[o-s],e.position-(i[o]-i[o-s]),u),c=K.repeat(" ",n.indent)+dn((e.line-s+1).toString(),d)+" | "+a.str+`
`+c;for(a=fn(e.buffer,i[o],r[o],e.position,u),c+=K.repeat(" ",n.indent)+dn((e.line+1).toString(),d)+" | "+a.str+`
`,c+=K.repeat("-",n.indent+d+3+a.pos)+`^
`,s=1;s<=n.linesAfter&&!(o+s>=r.length);s++)a=fn(e.buffer,i[o+s],r[o+s],e.position-(i[o]-i[o+s]),u),c+=K.repeat(" ",n.indent)+dn((e.line+s+1).toString(),d)+" | "+a.str+`
`;return c.replace(/\n$/,"")}var Ji=Zi,er=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nr=["scalar","sequence","mapping"];function tr(e){var n={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(i){n[String(i)]=t})}),n}function ir(e,n){if(n=n||{},Object.keys(n).forEach(function(t){if(er.indexOf(t)===-1)throw new J('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(t){return t},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=tr(n.styleAliases||null),nr.indexOf(this.kind)===-1)throw new J('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var V=ir;function Kn(e,n){var t=[];return e[n].forEach(function(i){var r=t.length;t.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(r=o)}),t[r]=i}),t}function rr(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,t;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(n=0,t=arguments.length;n<t;n+=1)arguments[n].forEach(i);return e}function hn(e){return this.extend(e)}hn.prototype.extend=function(n){var t=[],i=[];if(n instanceof V)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(t=t.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new J("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(l){if(!(l instanceof V))throw new J("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new J("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new J("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof V))throw new J("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(hn.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Kn(r,"implicit"),r.compiledExplicit=Kn(r,"explicit"),r.compiledTypeMap=rr(r.compiledImplicit,r.compiledExplicit),r};var ut=hn,ft=new V("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),dt=new V("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),pt=new V("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ht=new ut({explicit:[ft,dt,pt]});function or(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function lr(){return null}function cr(e){return e===null}var mt=new V("tag:yaml.org,2002:null",{kind:"scalar",resolve:or,construct:lr,predicate:cr,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function sr(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function ar(e){return e==="true"||e==="True"||e==="TRUE"}function ur(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var gt=new V("tag:yaml.org,2002:bool",{kind:"scalar",resolve:sr,construct:ar,predicate:ur,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function fr(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function dr(e){return 48<=e&&e<=55}function pr(e){return 48<=e&&e<=57}function hr(e){if(e===null)return!1;var n=e.length,t=0,i=!1,r;if(!n)return!1;if(r=e[t],(r==="-"||r==="+")&&(r=e[++t]),r==="0"){if(t+1===n)return!0;if(r=e[++t],r==="b"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(!fr(e.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(t++;t<n;t++)if(r=e[t],r!=="_"){if(!dr(e.charCodeAt(t)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;t<n;t++)if(r=e[t],r!=="_"){if(!pr(e.charCodeAt(t)))return!1;i=!0}return!(!i||r==="_")}function mr(e){var n=e,t=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return t*parseInt(n.slice(2),2);if(n[1]==="x")return t*parseInt(n.slice(2),16);if(n[1]==="o")return t*parseInt(n.slice(2),8)}return t*parseInt(n,10)}function gr(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!K.isNegativeZero(e)}var _t=new V("tag:yaml.org,2002:int",{kind:"scalar",resolve:hr,construct:mr,predicate:gr,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_r=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function br(e){return!(e===null||!_r.test(e)||e[e.length-1]==="_")}function vr(e){var n,t;return n=e.replace(/_/g,"").toLowerCase(),t=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:t*parseFloat(n,10)}var xr=/^[-+]?[0-9]+e/;function yr(e,n){var t;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(K.isNegativeZero(e))return"-0.0";return t=e.toString(10),xr.test(t)?t.replace("e",".e"):t}function wr(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||K.isNegativeZero(e))}var bt=new V("tag:yaml.org,2002:float",{kind:"scalar",resolve:br,construct:vr,predicate:wr,represent:yr,defaultStyle:"lowercase"}),vt=ht.extend({implicit:[mt,gt,_t,bt]}),xt=vt,yt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ar(e){return e===null?!1:yt.exec(e)!==null||wt.exec(e)!==null}function Cr(e){var n,t,i,r,l,o,c,s=0,a=null,d,u,m;if(n=yt.exec(e),n===null&&(n=wt.exec(e)),n===null)throw new Error("Date resolve error");if(t=+n[1],i=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(t,i,r));if(l=+n[4],o=+n[5],c=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(d=+n[10],u=+(n[11]||0),a=(d*60+u)*6e4,n[9]==="-"&&(a=-a)),m=new Date(Date.UTC(t,i,r,l,o,c,s)),a&&m.setTime(m.getTime()-a),m}function kr(e){return e.toISOString()}var At=new V("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ar,construct:Cr,instanceOf:Date,represent:kr});function Fr(e){return e==="<<"||e===null}var Ct=new V("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Fr}),vn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Er(e){if(e===null)return!1;var n,t,i=0,r=e.length,l=vn;for(t=0;t<r;t++)if(n=l.indexOf(e.charAt(t)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function Sr(e){var n,t,i=e.replace(/[\r\n=]/g,""),r=i.length,l=vn,o=0,c=[];for(n=0;n<r;n++)n%4===0&&n&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|l.indexOf(i.charAt(n));return t=r%4*6,t===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):t===18?(c.push(o>>10&255),c.push(o>>2&255)):t===12&&c.push(o>>4&255),new Uint8Array(c)}function Tr(e){var n="",t=0,i,r,l=e.length,o=vn;for(i=0;i<l;i++)i%3===0&&i&&(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]),t=(t<<8)+e[i];return r=l%3,r===0?(n+=o[t>>18&63],n+=o[t>>12&63],n+=o[t>>6&63],n+=o[t&63]):r===2?(n+=o[t>>10&63],n+=o[t>>4&63],n+=o[t<<2&63],n+=o[64]):r===1&&(n+=o[t>>2&63],n+=o[t<<4&63],n+=o[64],n+=o[64]),n}function Lr(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var kt=new V("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Er,construct:Sr,predicate:Lr,represent:Tr}),Or=Object.prototype.hasOwnProperty,Ir=Object.prototype.toString;function Nr(e){if(e===null)return!0;var n=[],t,i,r,l,o,c=e;for(t=0,i=c.length;t<i;t+=1){if(r=c[t],o=!1,Ir.call(r)!=="[object Object]")return!1;for(l in r)if(Or.call(r,l))if(!o)o=!0;else return!1;if(!o)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function Mr(e){return e!==null?e:[]}var Ft=new V("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Nr,construct:Mr}),Dr=Object.prototype.toString;function $r(e){if(e===null)return!0;var n,t,i,r,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1){if(i=o[n],Dr.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;l[n]=[r[0],i[r[0]]]}return!0}function Rr(e){if(e===null)return[];var n,t,i,r,l,o=e;for(l=new Array(o.length),n=0,t=o.length;n<t;n+=1)i=o[n],r=Object.keys(i),l[n]=[r[0],i[r[0]]];return l}var Et=new V("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$r,construct:Rr}),Pr=Object.prototype.hasOwnProperty;function Br(e){if(e===null)return!0;var n,t=e;for(n in t)if(Pr.call(t,n)&&t[n]!==null)return!1;return!0}function jr(e){return e!==null?e:{}}var St=new V("tag:yaml.org,2002:set",{kind:"mapping",resolve:Br,construct:jr}),xn=xt.extend({implicit:[At,Ct],explicit:[kt,Ft,Et,St]}),me=Object.prototype.hasOwnProperty,ze=1,Tt=2,Lt=3,Ve=4,pn=1,Hr=2,zn=3,Yr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ur=/[\x85\u2028\u2029]/,qr=/[,\[\]\{\}]/,Ot=/^(?:!|!!|![a-z\-]+!)$/i,It=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Vn(e){return Object.prototype.toString.call(e)}function ae(e){return e===10||e===13}function ve(e){return e===9||e===32}function ne(e){return e===9||e===32||e===10||e===13}function Ee(e){return e===44||e===91||e===93||e===123||e===125}function Wr(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Gr(e){return e===120?2:e===117?4:e===85?8:0}function Kr(e){return 48<=e&&e<=57?e-48:-1}function Qn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function zr(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Nt=new Array(256),Mt=new Array(256);for(be=0;be<256;be++)Nt[be]=Qn(be)?1:0,Mt[be]=Qn(be);var be;function Vr(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||xn,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Dt(e,n){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=Ji(t),new J(n,t)}function F(e,n){throw Dt(e,n)}function Qe(e,n){e.onWarning&&e.onWarning.call(null,Dt(e,n))}var Xn={YAML:function(n,t,i){var r,l,o;n.version!==null&&F(n,"duplication of %YAML directive"),i.length!==1&&F(n,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&F(n,"ill-formed argument of the YAML directive"),l=parseInt(r[1],10),o=parseInt(r[2],10),l!==1&&F(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=o<2,o!==1&&o!==2&&Qe(n,"unsupported YAML version of the document")},TAG:function(n,t,i){var r,l;i.length!==2&&F(n,"TAG directive accepts exactly two arguments"),r=i[0],l=i[1],Ot.test(r)||F(n,"ill-formed tag handle (first argument) of the TAG directive"),me.call(n.tagMap,r)&&F(n,'there is a previously declared suffix for "'+r+'" tag handle'),It.test(l)||F(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{F(n,"tag prefix is malformed: "+l)}n.tagMap[r]=l}};function he(e,n,t,i){var r,l,o,c;if(n<t){if(c=e.input.slice(n,t),i)for(r=0,l=c.length;r<l;r+=1)o=c.charCodeAt(r),o===9||32<=o&&o<=1114111||F(e,"expected valid JSON character");else Yr.test(c)&&F(e,"the stream contains non-printable characters");e.result+=c}}function Zn(e,n,t,i){var r,l,o,c;for(K.isObject(t)||F(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(t),o=0,c=r.length;o<c;o+=1)l=r[o],me.call(n,l)||(n[l]=t[l],i[l]=!0)}function Se(e,n,t,i,r,l,o,c,s){var a,d;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),a=0,d=r.length;a<d;a+=1)Array.isArray(r[a])&&F(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Vn(r[a])==="[object Object]"&&(r[a]="[object Object]");if(typeof r=="object"&&Vn(r)==="[object Object]"&&(r="[object Object]"),r=String(r),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(a=0,d=l.length;a<d;a+=1)Zn(e,n,l[a],t);else Zn(e,n,l,t);else!e.json&&!me.call(t,r)&&me.call(n,r)&&(e.line=o||e.line,e.lineStart=c||e.lineStart,e.position=s||e.position,F(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[r]=l,delete t[r];return n}function yn(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):F(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function G(e,n,t){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;ve(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(n&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(ae(r))for(yn(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return t!==-1&&i!==0&&e.lineIndent<t&&Qe(e,"deficient indentation"),i}function Je(e){var n=e.position,t;return t=e.input.charCodeAt(n),!!((t===45||t===46)&&t===e.input.charCodeAt(n+1)&&t===e.input.charCodeAt(n+2)&&(n+=3,t=e.input.charCodeAt(n),t===0||ne(t)))}function wn(e,n){n===1?e.result+=" ":n>1&&(e.result+=K.repeat(`
`,n-1))}function Qr(e,n,t){var i,r,l,o,c,s,a,d,u=e.kind,m=e.result,p;if(p=e.input.charCodeAt(e.position),ne(p)||Ee(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(r=e.input.charCodeAt(e.position+1),ne(r)||t&&Ee(r)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,c=!1;p!==0;){if(p===58){if(r=e.input.charCodeAt(e.position+1),ne(r)||t&&Ee(r))break}else if(p===35){if(i=e.input.charCodeAt(e.position-1),ne(i))break}else{if(e.position===e.lineStart&&Je(e)||t&&Ee(p))break;if(ae(p))if(s=e.line,a=e.lineStart,d=e.lineIndent,G(e,!1,-1),e.lineIndent>=n){c=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=a,e.lineIndent=d;break}}c&&(he(e,l,o,!1),wn(e,e.line-s),l=o=e.position,c=!1),ve(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return he(e,l,o,!1),e.result?!0:(e.kind=u,e.result=m,!1)}function Xr(e,n){var t,i,r;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(he(e,i,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)i=e.position,e.position++,r=e.position;else return!0;else ae(t)?(he(e,i,r,!0),wn(e,G(e,!1,n)),i=r=e.position):e.position===e.lineStart&&Je(e)?F(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);F(e,"unexpected end of the stream within a single quoted scalar")}function Zr(e,n){var t,i,r,l,o,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return he(e,t,e.position,!0),e.position++,!0;if(c===92){if(he(e,t,e.position,!0),c=e.input.charCodeAt(++e.position),ae(c))G(e,!1,n);else if(c<256&&Nt[c])e.result+=Mt[c],e.position++;else if((o=Gr(c))>0){for(r=o,l=0;r>0;r--)c=e.input.charCodeAt(++e.position),(o=Wr(c))>=0?l=(l<<4)+o:F(e,"expected hexadecimal character");e.result+=zr(l),e.position++}else F(e,"unknown escape sequence");t=i=e.position}else ae(c)?(he(e,t,i,!0),wn(e,G(e,!1,n)),t=i=e.position):e.position===e.lineStart&&Je(e)?F(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}F(e,"unexpected end of the stream within a double quoted scalar")}function Jr(e,n){var t=!0,i,r,l,o=e.tag,c,s=e.anchor,a,d,u,m,p,v=Object.create(null),L,x,I,f;if(f=e.input.charCodeAt(e.position),f===91)d=93,p=!1,c=[];else if(f===123)d=125,p=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),f=e.input.charCodeAt(++e.position);f!==0;){if(G(e,!0,n),f=e.input.charCodeAt(e.position),f===d)return e.position++,e.tag=o,e.anchor=s,e.kind=p?"mapping":"sequence",e.result=c,!0;t?f===44&&F(e,"expected the node content, but found ','"):F(e,"missed comma between flow collection entries"),x=L=I=null,u=m=!1,f===63&&(a=e.input.charCodeAt(e.position+1),ne(a)&&(u=m=!0,e.position++,G(e,!0,n))),i=e.line,r=e.lineStart,l=e.position,Te(e,n,ze,!1,!0),x=e.tag,L=e.result,G(e,!0,n),f=e.input.charCodeAt(e.position),(m||e.line===i)&&f===58&&(u=!0,f=e.input.charCodeAt(++e.position),G(e,!0,n),Te(e,n,ze,!1,!0),I=e.result),p?Se(e,c,v,x,L,I,i,r,l):u?c.push(Se(e,null,v,x,L,I,i,r,l)):c.push(L),G(e,!0,n),f=e.input.charCodeAt(e.position),f===44?(t=!0,f=e.input.charCodeAt(++e.position)):t=!1}F(e,"unexpected end of the stream within a flow collection")}function eo(e,n){var t,i,r=pn,l=!1,o=!1,c=n,s=0,a=!1,d,u;if(u=e.input.charCodeAt(e.position),u===124)i=!1;else if(u===62)i=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)pn===r?r=u===43?zn:Hr:F(e,"repeat of a chomping mode identifier");else if((d=Kr(u))>=0)d===0?F(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?F(e,"repeat of an indentation width identifier"):(c=n+d-1,o=!0);else break;if(ve(u)){do u=e.input.charCodeAt(++e.position);while(ve(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!ae(u)&&u!==0)}for(;u!==0;){for(yn(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<c)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>c&&(c=e.lineIndent),ae(u)){s++;continue}if(e.lineIndent<c){r===zn?e.result+=K.repeat(`
`,l?1+s:s):r===pn&&l&&(e.result+=`
`);break}for(i?ve(u)?(a=!0,e.result+=K.repeat(`
`,l?1+s:s)):a?(a=!1,e.result+=K.repeat(`
`,s+1)):s===0?l&&(e.result+=" "):e.result+=K.repeat(`
`,s):e.result+=K.repeat(`
`,l?1+s:s),l=!0,o=!0,s=0,t=e.position;!ae(u)&&u!==0;)u=e.input.charCodeAt(++e.position);he(e,t,e.position,!1)}return!0}function Jn(e,n){var t,i=e.tag,r=e.anchor,l=[],o,c=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,F(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!ne(o))));){if(c=!0,e.position++,G(e,!0,-1)&&e.lineIndent<=n){l.push(null),s=e.input.charCodeAt(e.position);continue}if(t=e.line,Te(e,n,Lt,!1,!0),l.push(e.result),G(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>n)&&s!==0)F(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return c?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=l,!0):!1}function no(e,n,t){var i,r,l,o,c,s,a=e.tag,d=e.anchor,u={},m=Object.create(null),p=null,v=null,L=null,x=!1,I=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),f=e.input.charCodeAt(e.position);f!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,F(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(f===63||f===58)&&ne(i))f===63?(x&&(Se(e,u,m,p,v,null,o,c,s),p=v=L=null),I=!0,x=!0,r=!0):x?(x=!1,r=!0):F(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,f=i;else{if(o=e.line,c=e.lineStart,s=e.position,!Te(e,t,Tt,!1,!0))break;if(e.line===l){for(f=e.input.charCodeAt(e.position);ve(f);)f=e.input.charCodeAt(++e.position);if(f===58)f=e.input.charCodeAt(++e.position),ne(f)||F(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Se(e,u,m,p,v,null,o,c,s),p=v=L=null),I=!0,x=!1,r=!1,p=e.tag,v=e.result;else if(I)F(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=d,!0}else if(I)F(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=d,!0}if((e.line===l||e.lineIndent>n)&&(x&&(o=e.line,c=e.lineStart,s=e.position),Te(e,n,Ve,!0,r)&&(x?v=e.result:L=e.result),x||(Se(e,u,m,p,v,L,o,c,s),p=v=L=null),G(e,!0,-1),f=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&f!==0)F(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return x&&Se(e,u,m,p,v,null,o,c,s),I&&(e.tag=a,e.anchor=d,e.kind="mapping",e.result=u),I}function to(e){var n,t=!1,i=!1,r,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&F(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(t=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",n=e.position,t){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(n,e.position),o=e.input.charCodeAt(++e.position)):F(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ne(o);)o===33&&(i?F(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(n-1,e.position+1),Ot.test(r)||F(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),qr.test(l)&&F(e,"tag suffix cannot contain flow indicator characters")}l&&!It.test(l)&&F(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{F(e,"tag name is malformed: "+l)}return t?e.tag=l:me.call(e.tagMap,r)?e.tag=e.tagMap[r]+l:r==="!"?e.tag="!"+l:r==="!!"?e.tag="tag:yaml.org,2002:"+l:F(e,'undeclared tag handle "'+r+'"'),!0}function io(e){var n,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&F(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!ne(t)&&!Ee(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&F(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function ro(e){var n,t,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!ne(i)&&!Ee(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&F(e,"name of an alias node must contain at least one character"),t=e.input.slice(n,e.position),me.call(e.anchorMap,t)||F(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],G(e,!0,-1),!0}function Te(e,n,t,i,r){var l,o,c,s=1,a=!1,d=!1,u,m,p,v,L,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=c=Ve===t||Lt===t,i&&G(e,!0,-1)&&(a=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;to(e)||io(e);)G(e,!0,-1)?(a=!0,c=l,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):c=!1;if(c&&(c=a||r),(s===1||Ve===t)&&(ze===t||Tt===t?L=n:L=n+1,x=e.position-e.lineStart,s===1?c&&(Jn(e,x)||no(e,x,L))||Jr(e,L)?d=!0:(o&&eo(e,L)||Xr(e,L)||Zr(e,L)?d=!0:ro(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&F(e,"alias node should not have any properties")):Qr(e,L,ze===t)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(d=c&&Jn(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&F(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,m=e.implicitTypes.length;u<m;u+=1)if(v=e.implicitTypes[u],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(me.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,p=e.typeMap.multi[e.kind||"fallback"],u=0,m=p.length;u<m;u+=1)if(e.tag.slice(0,p[u].tag.length)===p[u].tag){v=p[u];break}v||F(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&F(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):F(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function oo(e){var n=e.position,t,i,r,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(G(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!ne(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(t,e.position),r=[],i.length<1&&F(e,"directive name must not be less than one character in length");o!==0;){for(;ve(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ae(o));break}if(ae(o))break;for(t=e.position;o!==0&&!ne(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}o!==0&&yn(e),me.call(Xn,i)?Xn[i](e,i,r):Qe(e,'unknown document directive "'+i+'"')}if(G(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,G(e,!0,-1)):l&&F(e,"directives end mark is expected"),Te(e,e.lineIndent-1,Ve,!1,!0),G(e,!0,-1),e.checkLineBreaks&&Ur.test(e.input.slice(n,e.position))&&Qe(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Je(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,G(e,!0,-1));return}if(e.position<e.length-1)F(e,"end of the stream or a document separator is expected");else return}function $t(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new Vr(e,n),i=e.indexOf("\0");for(i!==-1&&(t.position=i,F(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)oo(t);return t.documents}function lo(e,n,t){n!==null&&typeof n=="object"&&typeof t>"u"&&(t=n,n=null);var i=$t(e,t);if(typeof n!="function")return i;for(var r=0,l=i.length;r<l;r+=1)n(i[r])}function co(e,n){var t=$t(e,n);if(t.length!==0){if(t.length===1)return t[0];throw new J("expected a single document in the stream, but found more")}}var so=lo,ao=co,Rt={loadAll:so,load:ao},Pt=Object.prototype.toString,Bt=Object.prototype.hasOwnProperty,An=65279,uo=9,Pe=10,fo=13,po=32,ho=33,mo=34,mn=35,go=37,_o=38,bo=39,vo=42,jt=44,xo=45,Xe=58,yo=61,wo=62,Ao=63,Co=64,Ht=91,Yt=93,ko=96,Ut=123,Fo=124,qt=125,X={};X[0]="\\0";X[7]="\\a";X[8]="\\b";X[9]="\\t";X[10]="\\n";X[11]="\\v";X[12]="\\f";X[13]="\\r";X[27]="\\e";X[34]='\\"';X[92]="\\\\";X[133]="\\N";X[160]="\\_";X[8232]="\\L";X[8233]="\\P";var Eo=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],So=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function To(e,n){var t,i,r,l,o,c,s;if(n===null)return{};for(t={},i=Object.keys(n),r=0,l=i.length;r<l;r+=1)o=i[r],c=String(n[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&Bt.call(s.styleAliases,c)&&(c=s.styleAliases[c]),t[o]=c;return t}function Lo(e){var n,t,i;if(n=e.toString(16).toUpperCase(),e<=255)t="x",i=2;else if(e<=65535)t="u",i=4;else if(e<=4294967295)t="U",i=8;else throw new J("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+K.repeat("0",i-n.length)+n}var Oo=1,Be=2;function Io(e){this.schema=e.schema||xn,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=K.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=To(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Be:Oo,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function et(e,n){for(var t=K.repeat(" ",n),i=0,r=-1,l="",o,c=e.length;i<c;)r=e.indexOf(`
`,i),r===-1?(o=e.slice(i),i=c):(o=e.slice(i,r+1),i=r+1),o.length&&o!==`
`&&(l+=t),l+=o;return l}function gn(e,n){return`
`+K.repeat(" ",e.indent*n)}function No(e,n){var t,i,r;for(t=0,i=e.implicitTypes.length;t<i;t+=1)if(r=e.implicitTypes[t],r.resolve(n))return!0;return!1}function Ze(e){return e===po||e===uo}function je(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==An||65536<=e&&e<=1114111}function nt(e){return je(e)&&e!==An&&e!==fo&&e!==Pe}function tt(e,n,t){var i=nt(e),r=i&&!Ze(e);return(t?i:i&&e!==jt&&e!==Ht&&e!==Yt&&e!==Ut&&e!==qt)&&e!==mn&&!(n===Xe&&!r)||nt(n)&&!Ze(n)&&e===mn||n===Xe&&r}function Mo(e){return je(e)&&e!==An&&!Ze(e)&&e!==xo&&e!==Ao&&e!==Xe&&e!==jt&&e!==Ht&&e!==Yt&&e!==Ut&&e!==qt&&e!==mn&&e!==_o&&e!==vo&&e!==ho&&e!==Fo&&e!==yo&&e!==wo&&e!==bo&&e!==mo&&e!==go&&e!==Co&&e!==ko}function Do(e){return!Ze(e)&&e!==Xe}function $e(e,n){var t=e.charCodeAt(n),i;return t>=55296&&t<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function Wt(e){var n=/^\n* /;return n.test(e)}var Gt=1,_n=2,Kt=3,zt=4,Fe=5;function $o(e,n,t,i,r,l,o,c){var s,a=0,d=null,u=!1,m=!1,p=i!==-1,v=-1,L=Mo($e(e,0))&&Do($e(e,e.length-1));if(n||o)for(s=0;s<e.length;a>=65536?s+=2:s++){if(a=$e(e,s),!je(a))return Fe;L=L&&tt(a,d,c),d=a}else{for(s=0;s<e.length;a>=65536?s+=2:s++){if(a=$e(e,s),a===Pe)u=!0,p&&(m=m||s-v-1>i&&e[v+1]!==" ",v=s);else if(!je(a))return Fe;L=L&&tt(a,d,c),d=a}m=m||p&&s-v-1>i&&e[v+1]!==" "}return!u&&!m?L&&!o&&!r(e)?Gt:l===Be?Fe:_n:t>9&&Wt(e)?Fe:o?l===Be?Fe:_n:m?zt:Kt}function Ro(e,n,t,i,r){e.dump=function(){if(n.length===0)return e.quotingType===Be?'""':"''";if(!e.noCompatMode&&(Eo.indexOf(n)!==-1||So.test(n)))return e.quotingType===Be?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,t),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),c=i||e.flowLevel>-1&&t>=e.flowLevel;function s(a){return No(e,a)}switch($o(n,c,e.indent,o,s,e.quotingType,e.forceQuotes&&!i,r)){case Gt:return n;case _n:return"'"+n.replace(/'/g,"''")+"'";case Kt:return"|"+it(n,e.indent)+rt(et(n,l));case zt:return">"+it(n,e.indent)+rt(et(Po(n,o),l));case Fe:return'"'+Bo(n)+'"';default:throw new J("impossible error: invalid scalar style")}}()}function it(e,n){var t=Wt(e)?String(n):"",i=e[e.length-1]===`
`,r=i&&(e[e.length-2]===`
`||e===`
`),l=r?"+":i?"":"-";return t+l+`
`}function rt(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Po(e,n){for(var t=/(\n+)([^\n]*)/g,i=function(){var a=e.indexOf(`
`);return a=a!==-1?a:e.length,t.lastIndex=a,ot(e.slice(0,a),n)}(),r=e[0]===`
`||e[0]===" ",l,o;o=t.exec(e);){var c=o[1],s=o[2];l=s[0]===" ",i+=c+(!r&&!l&&s!==""?`
`:"")+ot(s,n),r=l}return i}function ot(e,n){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,i,r=0,l,o=0,c=0,s="";i=t.exec(e);)c=i.index,c-r>n&&(l=o>r?o:c,s+=`
`+e.slice(r,l),r=l+1),o=c;return s+=`
`,e.length-r>n&&o>r?s+=e.slice(r,o)+`
`+e.slice(o+1):s+=e.slice(r),s.slice(1)}function Bo(e){for(var n="",t=0,i,r=0;r<e.length;t>=65536?r+=2:r++)t=$e(e,r),i=X[t],!i&&je(t)?(n+=e[r],t>=65536&&(n+=e[r+1])):n+=i||Lo(t);return n}function jo(e,n,t){var i="",r=e.tag,l,o,c;for(l=0,o=t.length;l<o;l+=1)c=t[l],e.replacer&&(c=e.replacer.call(t,String(l),c)),(ue(e,n,c,!1,!1)||typeof c>"u"&&ue(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=r,e.dump="["+i+"]"}function lt(e,n,t,i){var r="",l=e.tag,o,c,s;for(o=0,c=t.length;o<c;o+=1)s=t[o],e.replacer&&(s=e.replacer.call(t,String(o),s)),(ue(e,n+1,s,!0,!0,!1,!0)||typeof s>"u"&&ue(e,n+1,null,!0,!0,!1,!0))&&((!i||r!=="")&&(r+=gn(e,n)),e.dump&&Pe===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=l,e.dump=r||"[]"}function Ho(e,n,t){var i="",r=e.tag,l=Object.keys(t),o,c,s,a,d;for(o=0,c=l.length;o<c;o+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),s=l[o],a=t[s],e.replacer&&(a=e.replacer.call(t,s,a)),ue(e,n,s,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ue(e,n,a,!1,!1)&&(d+=e.dump,i+=d));e.tag=r,e.dump="{"+i+"}"}function Yo(e,n,t,i){var r="",l=e.tag,o=Object.keys(t),c,s,a,d,u,m;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new J("sortKeys must be a boolean or a function");for(c=0,s=o.length;c<s;c+=1)m="",(!i||r!=="")&&(m+=gn(e,n)),a=o[c],d=t[a],e.replacer&&(d=e.replacer.call(t,a,d)),ue(e,n+1,a,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Pe===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,u&&(m+=gn(e,n)),ue(e,n+1,d,!0,u)&&(e.dump&&Pe===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,r+=m));e.tag=l,e.dump=r||"{}"}function ct(e,n,t){var i,r,l,o,c,s;for(r=t?e.explicitTypes:e.implicitTypes,l=0,o=r.length;l<o;l+=1)if(c=r[l],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(t?c.multi&&c.representName?e.tag=c.representName(n):e.tag=c.tag:e.tag="?",c.represent){if(s=e.styleMap[c.tag]||c.defaultStyle,Pt.call(c.represent)==="[object Function]")i=c.represent(n,s);else if(Bt.call(c.represent,s))i=c.represent[s](n,s);else throw new J("!<"+c.tag+'> tag resolver accepts not "'+s+'" style');e.dump=i}return!0}return!1}function ue(e,n,t,i,r,l,o){e.tag=null,e.dump=t,ct(e,t,!1)||ct(e,t,!0);var c=Pt.call(e.dump),s=i,a;i&&(i=e.flowLevel<0||e.flowLevel>n);var d=c==="[object Object]"||c==="[object Array]",u,m;if(d&&(u=e.duplicates.indexOf(t),m=u!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&n>0)&&(r=!1),m&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&m&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(Yo(e,n,e.dump,r),m&&(e.dump="&ref_"+u+e.dump)):(Ho(e,n,e.dump),m&&(e.dump="&ref_"+u+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&n>0?lt(e,n-1,e.dump,r):lt(e,n,e.dump,r),m&&(e.dump="&ref_"+u+e.dump)):(jo(e,n,e.dump),m&&(e.dump="&ref_"+u+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&Ro(e,e.dump,n,l,s);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new J("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(a=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?a="!"+a:a.slice(0,18)==="tag:yaml.org,2002:"?a="!!"+a.slice(18):a="!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Uo(e,n){var t=[],i=[],r,l;for(bn(e,t,i),r=0,l=i.length;r<l;r+=1)n.duplicates.push(t[i[r]]);n.usedDuplicates=new Array(l)}function bn(e,n,t){var i,r,l;if(e!==null&&typeof e=="object")if(r=n.indexOf(e),r!==-1)t.indexOf(r)===-1&&t.push(r);else if(n.push(e),Array.isArray(e))for(r=0,l=e.length;r<l;r+=1)bn(e[r],n,t);else for(i=Object.keys(e),r=0,l=i.length;r<l;r+=1)bn(e[i[r]],n,t)}function qo(e,n){n=n||{};var t=new Io(n);t.noRefs||Uo(e,t);var i=e;return t.replacer&&(i=t.replacer.call({"":i},"",i)),ue(t,0,i,!0,!0)?t.dump+`
`:""}var Wo=qo,Go={dump:Wo};function Cn(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Ko=V,zo=ut,Vo=ht,Qo=vt,Xo=xt,Zo=xn,Jo=Rt.load,el=Rt.loadAll,nl=Go.dump,tl=J,il={binary:kt,float:bt,map:pt,null:mt,pairs:Et,set:St,timestamp:At,bool:gt,int:_t,merge:Ct,omap:Ft,seq:dt,str:ft},rl=Cn("safeLoad","load"),ol=Cn("safeLoadAll","loadAll"),ll=Cn("safeDump","dump"),cl={Type:Ko,Schema:zo,FAILSAFE_SCHEMA:Vo,JSON_SCHEMA:Qo,CORE_SCHEMA:Xo,DEFAULT_SCHEMA:Zo,load:Jo,loadAll:el,dump:nl,YAMLException:tl,types:il,safeLoad:rl,safeLoadAll:ol,safeDump:ll},kn=cl;var Fn={},En=[];function He(){return{...Fn}}function Vt(){return[...En]}async function Qt(e="locales/fr.yaml"){try{let t=await(await fetch(e)).text();Fn={...kn.load(t)}}catch{Fn={error:"Erreur de chargement des textes UI."}}}async function Xt(e="locales/commands.yaml"){try{let t=await(await fetch(e)).text();En=kn.load(t)||[]}catch{En=[]}}function sl(e){Ae(e,"svelte-1mnh07d",".split-view.svelte-1mnh07d{display:flex;width:100%;height:100%}.pane.svelte-1mnh07d{flex:1;padding:1rem;overflow:auto;border-right:1px solid #ddd}.pane.svelte-1mnh07d:last-child{border-right:none}.pane-title.svelte-1mnh07d{font-weight:bold;margin-bottom:0.5rem}")}function al(e){let n,t,i,r,l,o,c,s,a,d,u,m;return{c(){n=S("div"),t=S("div"),i=S("div"),i.textContent=`${e[2]["splitview.original"]||"Original"}`,r=P(),l=S("pre"),o=z(e[0]),c=P(),s=S("div"),a=S("div"),a.textContent=`${e[2]["splitview.combined"]||"Combin\xE9"}`,d=P(),u=S("pre"),m=z(e[1]),U(i,"class","pane-title svelte-1mnh07d"),U(t,"class","pane svelte-1mnh07d"),U(a,"class","pane-title svelte-1mnh07d"),U(s,"class","pane svelte-1mnh07d"),U(n,"class","split-view svelte-1mnh07d")},m(p,v){Z(p,n,v),g(n,t),g(t,i),g(t,r),g(t,l),g(l,o),g(n,c),g(n,s),g(s,a),g(s,d),g(s,u),g(u,m)},p(p,[v]){v&1&&re(o,p[0]),v&2&&re(m,p[1])},i:oe,o:oe,d(p){p&&Q(n)}}}function ul(e,n,t){let{original:i=""}=n,{combined:r=""}=n,l=He();return e.$$set=o=>{"original"in o&&t(0,i=o.original),"combined"in o&&t(1,r=o.combined)},[i,r,l]}var Sn=class extends se{constructor(n){super(),pe(this,n,ul,al,fe,{original:0,combined:1},sl)}},Zt=Sn;en();var Ue={original:"",combined:""};function Ln(){return{...Ue}}function ei(e){Ue={...Ue,original:e}}function ni(e){Ue={...Ue,combined:e}}function dl(e){Ae(e,"svelte-19bpims",".manual-ui.svelte-19bpims.svelte-19bpims{border:1px solid #ccc;border-radius:8px;padding:1rem;margin-bottom:1rem;background:var(--background-secondary);max-width:600px;width:100%}.file-list.svelte-19bpims.svelte-19bpims{display:flex;flex-direction:column;gap:0.5rem;margin-bottom:1rem}.file-item.svelte-19bpims.svelte-19bpims{display:flex;align-items:center;background:var(--background-primary);border:1px solid #ddd;border-radius:4px;padding:0.5rem;cursor:grab;user-select:none}.file-item.dragging.svelte-19bpims.svelte-19bpims{opacity:0.5}.file-item.svelte-19bpims .remove.svelte-19bpims{margin-left:auto;color:#c00;cursor:pointer}.drag-area.svelte-19bpims.svelte-19bpims{border:2px dashed #888;border-radius:6px;padding:1rem;text-align:center;margin-bottom:1rem;background:#f8f8f8}.name-field.svelte-19bpims.svelte-19bpims{margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem}.preview-modal.svelte-19bpims.svelte-19bpims{position:fixed;top:10%;left:50%;transform:translateX(-50%);background:#222;color:#fff;border-radius:8px;padding:2rem;z-index:10000;max-width:80vw;max-height:80vh;overflow:auto;box-shadow:0 4px 24px rgba(0,0,0,0.3)}@media(max-width: 700px){.manual-ui.svelte-19bpims.svelte-19bpims{max-width:98vw;padding:0.5rem}.preview-modal.svelte-19bpims.svelte-19bpims{max-width:98vw;padding:1rem}}.search-field.svelte-19bpims.svelte-19bpims{margin-bottom:1rem}.search-results.svelte-19bpims.svelte-19bpims{background:#fff;border:1px solid #ccc;border-radius:4px;max-height:120px;overflow-y:auto}.search-results.svelte-19bpims div.svelte-19bpims{padding:0.3rem 0.7rem;cursor:pointer}.search-results.svelte-19bpims div.svelte-19bpims:hover{background:#eee}")}function ti(e,n,t){let i=e.slice();return i[30]=n[t],i}function ii(e,n,t){let i=e.slice();return i[33]=n[t],i[35]=t,i}function ri(e,n,t){let i=e.slice();return i[36]=n[t],i[35]=t,i}function oi(e,n,t){let i=e.slice();return i[38]=n[t],i}function li(e){let n,t=e[5],i=[];for(let r=0;r<t.length;r+=1)i[r]=ci(oi(e,t,r));return{c(){n=S("div");for(let r=0;r<i.length;r+=1)i[r].c();U(n,"class","search-results svelte-19bpims")},m(r,l){Z(r,n,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,null)},p(r,l){if(l[0]&262176){t=r[5];let o;for(o=0;o<t.length;o+=1){let c=oi(r,t,o);i[o]?i[o].p(c,l):(i[o]=ci(c),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(r){r&&Q(n),Ne(i,r)}}}function ci(e){let n,t=e[38].name+"",i,r,l;function o(){return e[22](e[38])}return{c(){n=S("div"),i=z(t),U(n,"class","svelte-19bpims")},m(c,s){Z(c,n,s),g(n,i),r||(l=W(n,"click",o),r=!0)},p(c,s){e=c,s[0]&32&&t!==(t=e[38].name+"")&&re(i,t)},d(c){c&&Q(n),r=!1,l()}}}function pl(e){let n,t,i;function r(){return e[24](e[35])}return{c(){n=S("button"),n.textContent="\u2191"},m(l,o){Z(l,n,o),t||(i=W(n,"click",r),t=!0)},p(l,o){e=l},d(l){l&&Q(n),t=!1,i()}}}function hl(e){let n,t,i;function r(){return e[25](e[35])}return{c(){n=S("button"),n.textContent="\u2193"},m(l,o){Z(l,n,o),t||(i=W(n,"click",r),t=!0)},p(l,o){e=l},d(l){l&&Q(n),t=!1,i()}}}function si(e){let n,t,i=e[36].name+"",r,l,o,c,s,a,d,u;function m(){return e[23](e[35])}let p=e[35]>0&&pl(e),v=e[35]<e[7].length-1&&hl(e);function L(){return e[26](e[35])}function x(){return e[27](e[35])}return{c(){n=S("div"),t=S("span"),r=z(i),l=P(),o=S("span"),o.textContent="\u2716",c=P(),p&&p.c(),s=P(),v&&v.c(),U(o,"class","remove svelte-19bpims"),U(n,"class",a="file-item "+(e[6]===e[35]?"dragging":"")+" svelte-19bpims"),U(n,"draggable","true")},m(I,f){Z(I,n,f),g(n,t),g(t,r),g(n,l),g(n,o),g(n,c),p&&p.m(n,null),g(n,s),v&&v.m(n,null),d||(u=[W(o,"click",m),W(n,"dragstart",L),W(n,"dragend",e[13]),W(n,"drop",x),W(n,"dragover",Hn(e[20]))],d=!0)},p(I,f){e=I,e[35]>0&&p.p(e,f),e[35]<e[7].length-1&&v.p(e,f),f[0]&64&&a!==(a="file-item "+(e[6]===e[35]?"dragging":"")+" svelte-19bpims")&&U(n,"class",a)},d(I){I&&Q(n),p&&p.d(),v&&v.d(),d=!1,ie(u)}}}function ai(e){let n,t,i=e[33]+"",r,l,o,c,s,a,d;function u(){return e[28](e[35])}return{c(){n=S("div"),t=S("span"),r=z(i),l=z(" (externe)"),o=P(),c=S("span"),c.textContent="\u2716",s=P(),U(c,"class","remove svelte-19bpims"),U(n,"class","file-item svelte-19bpims")},m(m,p){Z(m,n,p),g(n,t),g(t,r),g(t,l),g(n,o),g(n,c),g(n,s),a||(d=W(c,"click",u),a=!0)},p(m,p){e=m},d(m){m&&Q(n),a=!1,d()}}}function ui(e){let n,t,i,r,l,o,c,s,a;return{c(){n=S("div"),t=S("h3"),t.textContent="Aper\xE7u du combin\xE9",i=P(),r=S("pre"),l=z(e[1]),o=P(),c=S("button"),c.textContent="Fermer",U(n,"class","preview-modal svelte-19bpims")},m(d,u){Z(d,n,u),g(n,t),g(n,i),g(n,r),g(r,l),g(n,o),g(n,c),s||(a=[W(c,"click",e[16]),W(n,"mouseleave",e[16])],s=!0)},p(d,u){u[0]&2&&re(l,d[1])},d(d){d&&Q(n),s=!1,ie(a)}}}function fi(e){let n,t,i=e[30].name+"",r,l,o=e[30].description+"",c;return{c(){n=S("li"),t=S("b"),r=z(i),l=z(" \u2014 "),c=z(o)},m(s,a){Z(s,n,a),g(n,t),g(t,r),g(n,l),g(n,c)},p(s,a){a[0]&8&&i!==(i=s[30].name+"")&&re(r,i),a[0]&8&&o!==(o=s[30].description+"")&&re(c,o)},d(s){s&&Q(n)}}}function ml(e){let n,t,i,r,l,o,c,s,a,d,u,m,p,v,L,x,I,f,$,B,y,O,w,_,T,C,E,k,N=e[5].length>0&&li(e),H=e[7],R=[];for(let b=0;b<H.length;b+=1)R[b]=si(ri(e,H,b));let j=e[8],h=[];for(let b=0;b<j.length;b+=1)h[b]=ai(ii(e,j,b));let D=e[2]&&ui(e),q=e[3],M=[];for(let b=0;b<q.length;b+=1)M[b]=fi(ti(e,q,b));return{c(){n=S("div"),t=S("h2"),t.textContent="Combinaison manuelle",i=P(),r=S("div"),r.textContent="Glisser-d\xE9poser des fichiers markdown ici (depuis Obsidian ou l'ext\xE9rieur)",l=P(),o=S("div"),c=S("input"),s=P(),N&&N.c(),a=P(),d=S("div");for(let b=0;b<R.length;b+=1)R[b].c();u=P();for(let b=0;b<h.length;b+=1)h[b].c();m=P(),p=S("div"),v=S("label"),v.textContent="Nom du fichier combin\xE9 :",L=P(),x=S("input"),I=P(),f=S("button"),f.textContent="Aper\xE7u du combin\xE9 (survol)",$=P(),B=S("button"),B.textContent="Combiner et cr\xE9er le fichier",y=P(),D&&D.c(),O=P(),w=S("div"),_=S("h3"),_.textContent="Commandes disponibles",T=P(),C=S("ul");for(let b=0;b<M.length;b+=1)M[b].c();U(r,"class","drag-area svelte-19bpims"),U(c,"type","text"),U(c,"placeholder","Rechercher un fichier dans le vault..."),U(o,"class","search-field svelte-19bpims"),U(d,"class","file-list svelte-19bpims"),U(x,"type","text"),le(x,"flex","1"),U(p,"class","name-field svelte-19bpims"),le(f,"margin-bottom","1rem"),le(B,"margin-left","1rem"),le(w,"margin-top","2rem"),U(n,"class","manual-ui svelte-19bpims")},m(b,Y){Z(b,n,Y),g(n,t),g(n,i),g(n,r),g(n,l),g(n,o),g(o,c),Me(c,e[4]),g(o,s),N&&N.m(o,null),g(n,a),g(n,d);for(let A=0;A<R.length;A+=1)R[A]&&R[A].m(d,null);g(d,u);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(d,null);g(n,m),g(n,p),g(p,v),g(p,L),g(p,x),Me(x,e[0]),g(n,I),g(n,f),g(n,$),g(n,B),g(n,y),D&&D.m(n,null),g(n,O),g(n,w),g(w,_),g(w,T),g(w,C);for(let A=0;A<M.length;A+=1)M[A]&&M[A].m(C,null);E||(k=[W(r,"drop",e[9]),W(r,"dragover",gl),W(c,"input",e[21]),W(c,"input",e[17]),W(x,"input",e[29]),W(f,"mouseenter",e[15]),W(f,"mouseleave",e[16])],E=!0)},p(b,Y){if(Y[0]&16&&c.value!==b[4]&&Me(c,b[4]),b[5].length>0?N?N.p(b,Y):(N=li(b),N.c(),N.m(o,null)):N&&(N.d(1),N=null),Y[0]&31936){H=b[7];let A;for(A=0;A<H.length;A+=1){let te=ri(b,H,A);R[A]?R[A].p(te,Y):(R[A]=si(te),R[A].c(),R[A].m(d,u))}for(;A<R.length;A+=1)R[A].d(1);R.length=H.length}if(Y[0]&256){j=b[8];let A;for(A=0;A<j.length;A+=1){let te=ii(b,j,A);h[A]?h[A].p(te,Y):(h[A]=ai(te),h[A].c(),h[A].m(d,null))}for(;A<h.length;A+=1)h[A].d(1);h.length=j.length}if(Y[0]&1&&x.value!==b[0]&&Me(x,b[0]),b[2]?D?D.p(b,Y):(D=ui(b),D.c(),D.m(n,O)):D&&(D.d(1),D=null),Y[0]&8){q=b[3];let A;for(A=0;A<q.length;A+=1){let te=ti(b,q,A);M[A]?M[A].p(te,Y):(M[A]=fi(te),M[A].c(),M[A].m(C,null))}for(;A<M.length;A+=1)M[A].d(1);M.length=q.length}},i:oe,o:oe,d(b){b&&Q(n),N&&N.d(),Ne(R,b),Ne(h,b),D&&D.d(),Ne(M,b),E=!1,ie(k)}}}function gl(e){e.preventDefault()}function _l(e,n,t){let{app:i}=n,r=[],l=[],o="notes-combinees.md",c="",s=!1,a=[],d="",u=[],m=null;function p(h){h.preventDefault();let D=h.dataTransfer?.items;if(D)for(let q=0;q<D.length;q++){let M=D[q];if(M.kind==="file"){let b=M.getAsFile();b&&b.name.endsWith(".md")&&l.push(b.name)}else M.kind==="string"&&M.getAsString(async b=>{let Y=i.vault.getAbstractFileByPath(b);Y&&"extension"in Y&&Y.extension==="md"&&(r.find(A=>A.path===Y.path)||r.push(Y))})}}function v(h,D){if(h===D)return;let q=r.splice(h,1)[0];r.splice(D,0,q)}function L(h){r.splice(h,1)}function x(h){t(6,m=h)}function I(){t(6,m=null)}function f(h){m!==null&&m!==h&&(v(m,h),t(6,m=null))}async function $(){t(1,c="");for(let h of r){let D=await i.vault.read(h);t(1,c+=`
---
# ${h.name}
`+D)}t(2,s=!0)}function B(){t(2,s=!1)}function y(){if(!d.trim()){t(5,u=[]);return}let h=i.vault.getMarkdownFiles();t(5,u=h.filter(D=>D.name.toLowerCase().includes(d.trim().toLowerCase())&&!r.find(q=>q.path===D.path)))}function O(h){r.push(h),t(4,d=""),t(5,u=[])}function w(h){Yn.call(this,e,h)}function _(){d=this.value,t(4,d)}let T=h=>O(h),C=h=>L(h),E=h=>v(h,h-1),k=h=>v(h,h+1),N=h=>x(h),H=h=>f(h),R=h=>l.splice(h,1);function j(){o=this.value,t(0,o)}return e.$$set=h=>{"app"in h&&t(19,i=h.app)},[o,c,s,a,d,u,m,r,l,p,v,L,x,I,f,$,B,y,O,i,w,_,T,C,E,k,N,H,R,j]}var On=class extends se{constructor(n){super(),pe(this,n,_l,ml,fe,{app:19},dl,[-1,-1])}},di=On;function bl(e){Ae(e,"svelte-v99t9y",".combiner-app.svelte-v99t9y{padding:1rem}")}function pi(e){let n,t;return n=new di({props:{app:e[0]}}),{c(){Ke(n.$$.fragment)},m(i,r){De(n,i,r),t=!0},p(i,r){let l={};r&1&&(l.app=i[0]),n.$set(l)},i(i){t||(de(n.$$.fragment,i),t=!0)},o(i){Ce(n.$$.fragment,i),t=!1},d(i){ke(n,i)}}}function hi(e){let n,t;return{c(){n=S("span"),t=z(e[3])},m(i,r){Z(i,n,r),g(n,t)},p(i,r){r&8&&re(t,i[3])},d(i){i&&Q(n)}}}function vl(e){let n,t,i,r,l=e[6]?"Fermer la combinaison manuelle":"Combinaison manuelle avanc\xE9e",o,c,s,a,d,u,m,p,v,L,x,I,f=(e[4].save_button||"\u{1F4BE} Sauvegarder le combin\xE9")+"",$,B,y,O,w,_=e[6]&&pi(e),T={app:e[0],settings:e[1],basePath:"",config:null,combinedFileName:""};a=new Gn({props:T}),e[14](a),v=new Zt({props:{original:e[5].original,combined:e[5].combined}});let C=e[3]&&hi(e);return{c(){n=S("div"),t=S("h1"),t.textContent="Markdown Combiner",i=P(),r=S("button"),o=z(l),c=P(),_&&_.c(),s=P(),Ke(a.$$.fragment),d=P(),u=S("button"),u.textContent="Combine Active Note",m=P(),p=S("div"),Ke(v.$$.fragment),L=P(),x=S("div"),I=S("button"),$=z(f),B=P(),C&&C.c(),le(r,"margin-bottom","1rem"),le(x,"margin-top","1rem"),le(x,"display","flex"),le(x,"align-items","center"),le(x,"gap","1rem"),U(n,"class","combiner-app svelte-v99t9y")},m(E,k){Z(E,n,k),g(n,t),g(n,i),g(n,r),g(r,o),g(n,c),_&&_.m(n,null),g(n,s),De(a,n,null),g(n,d),g(n,u),g(n,m),g(n,p),De(v,p,null),g(p,L),g(p,x),g(x,I),g(I,$),g(x,B),C&&C.m(x,null),y=!0,O||(w=[W(r,"click",e[13]),W(u,"click",e[7]),W(I,"click",e[8])],O=!0)},p(E,[k]){(!y||k&64)&&l!==(l=E[6]?"Fermer la combinaison manuelle":"Combinaison manuelle avanc\xE9e")&&re(o,l),E[6]?_?(_.p(E,k),k&64&&de(_,1)):(_=pi(E),_.c(),de(_,1),_.m(n,s)):_&&(qn(),Ce(_,1,1,()=>{_=null}),Wn());let N={};k&1&&(N.app=E[0]),k&2&&(N.settings=E[1]),a.$set(N);let H={};k&32&&(H.original=E[5].original),k&32&&(H.combined=E[5].combined),v.$set(H),(!y||k&16)&&f!==(f=(E[4].save_button||"\u{1F4BE} Sauvegarder le combin\xE9")+"")&&re($,f),E[3]?C?C.p(E,k):(C=hi(E),C.c(),C.m(x,null)):C&&(C.d(1),C=null)},i(E){y||(de(_),de(a.$$.fragment,E),de(v.$$.fragment,E),y=!0)},o(E){Ce(_),Ce(a.$$.fragment,E),Ce(v.$$.fragment,E),y=!1},d(E){E&&Q(n),_&&_.d(),e[14](null),ke(a),ke(v),C&&C.d(),O=!1,ie(w)}}}function xl(e,n,t){let{app:i}=n,{settings:r}=n,{originalContent:l=""}=n,{combinedContent:o=""}=n,{defaultFileName:c="note-combinee.md"}=n,{checkFileExists:s=async()=>!1}=n,a,d="",u=He(),m=Ln(),p=!1;async function v(){if(a){let f=i.workspace.getActiveFile();if(f){let $=await i.vault.read(f);t(9,o=await a.processMarkdown($)),ei($),ni(o),t(5,m=Ln())}}}async function L(){let f=await Ye(c,s);t(3,d=`${u.save_success||"Fichier sauvegard\xE9 sous :"} ${f}`)}let x=()=>t(6,p=!p);function I(f){Ge[f?"unshift":"push"](()=>{a=f,t(2,a)})}return e.$$set=f=>{"app"in f&&t(0,i=f.app),"settings"in f&&t(1,r=f.settings),"originalContent"in f&&t(10,l=f.originalContent),"combinedContent"in f&&t(9,o=f.combinedContent),"defaultFileName"in f&&t(11,c=f.defaultFileName),"checkFileExists"in f&&t(12,s=f.checkFileExists)},[i,r,a,d,u,m,p,v,L,o,l,c,s,x,I]}var In=class extends se{constructor(n){super(),pe(this,n,xl,vl,fe,{app:0,settings:1,originalContent:10,combinedContent:9,defaultFileName:11,checkFileExists:12},bl)}},Nn=In;var Le={useHiddenEmbeds:!0};function Oe(){return{...Le}}function mi(e,n){Le={...Le,[e]:n}}async function gi(e){let n=await e.loadData();n&&(Le={...Le,...n})}async function _i(e){await e.saveData(Le)}en();async function bi(e,n,t){let i=n.parent,r=n.basename+"-combined.md",o=await Ye(r,async d=>{let u=i?i.path+"/"+d:d;return!!e.vault.getAbstractFileByPath(u)}),c=i?i.path+"/"+o:o,s=await e.vault.create(c,t);await e.workspace.getLeaf("split","vertical").openFile(s),e.workspace.trigger("notice","Fichier combin\xE9 cr\xE9\xE9 et ouvert : "+o)}var nn=class extends ge.Plugin{view;async onload(){await this.loadSettings(),this.addSettingTab(new Mn(this.app,this)),this.addRibbonIcon("dice","Combine Notes",()=>{this.activateView()}),this.addCommand({id:"open-combiner-view",name:"Open Combiner",callback:()=>{this.activateView()}}),this.addCommand({id:"combine-active-note-to-file",name:"Combiner la note active (fichier)",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){new ge.Notice("Aucun fichier actif.");return}let t=Oe(),i=await Tn(this.app,n,t);await bi(this.app,n,i)}}),this.addCommand({id:"combine-active-note-direct",name:"Combiner la note active (direct)",icon:"combiner",callback:async()=>{let n=this.app.workspace.getActiveFile();if(!n){this.app.workspace.trigger("notice","Aucune note active");return}let{combineMarkdownNote:t}=await Promise.resolve().then(()=>(en(),Jt)),i=Oe(),r=await t(this.app,n,i);await bi(this.app,n,r)}}),this.addCommand({id:"open-combiner-dom",name:"Ouvrir le combiner (s\xE9lection manuelle)",callback:()=>{let n=document.getElementById("combiner-debug-root");n?n.innerHTML="":(n=document.createElement("div"),n.id="combiner-debug-root",n.style.position="fixed",n.style.top="60px",n.style.right="20px",n.style.zIndex="9999",n.style.background="var(--background-primary)",n.style.border="1px solid var(--background-modifier-border)",n.style.borderRadius="8px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.2)",n.style.padding="1rem",n.style.maxWidth="400px",document.body.appendChild(n));let t=Oe();new Nn({target:n,props:{app:this.app,settings:t}})}})}async onunload(){this.view}activateView(){let n=this.app.workspace.getRightLeaf(!1);if(n&&n.view.containerEl.children[1]){let t=Oe();this.view=new Nn({target:n.view.containerEl.children[1],props:{app:this.app,settings:t}}),this.app.workspace.revealLeaf(n)}}async loadSettings(){await gi(this)}async saveSettings(){await _i(this)}},Mn=class extends ge.PluginSettingTab{plugin;constructor(n,t){super(n,t),this.plugin=t}display(){let{containerEl:n}=this;n.empty(),n.createEl("h2",{text:"Settings for Combiner Plugin."});let t=Oe();new ge.Setting(n).setName("Use Hidden Embeds").setDesc("If enabled, internal links to notes not already embedded will be added as hidden comment blocks.").addToggle(i=>i.setValue(t.useHiddenEmbeds).onChange(async r=>{mi("useHiddenEmbeds",r),await this.plugin.saveSettings()}))}};
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
